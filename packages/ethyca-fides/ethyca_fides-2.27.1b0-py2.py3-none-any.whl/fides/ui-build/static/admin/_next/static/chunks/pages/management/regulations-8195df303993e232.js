(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4917],{24487:function(e,n,t){"use strict";t.d(n,{At:function(){return m},aG:function(){return g},gN:function(){return p}});var r=t(32393),i=t(14007),o=t(49031),c=t(27378);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function s(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var l=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],f=["children","spacing","separator","className"],h=(0,r.Gp)((function(e,n){var t=e.spacing,i=s(e,l),o=a({mx:t},(0,r.yK)().separator);return c.createElement(r.m$.span,a({ref:n,role:"presentation"},i,{__css:o}))}));i.Ts&&(h.displayName="BreadcrumbSeparator");var m=(0,r.Gp)((function(e,n){var t=e.isCurrentPage,o=e.as,l=e.className,d=e.href,f=s(e,u),h=(0,r.yK)(),m=a({ref:n,as:o,className:(0,i.cx)("chakra-breadcrumb__link",l)},f);return t?c.createElement(r.m$.span,a({"aria-current":"page",__css:h.link},m)):c.createElement(r.m$.a,a({__css:h.link,href:d},m))}));i.Ts&&(m.displayName="BreadcrumbLink");var p=(0,r.Gp)((function(e,n){var t=e.isCurrentPage,l=e.separator,u=e.isLastChild,f=e.spacing,p=e.children,g=e.className,x=s(e,d),v=(0,o.WR)(p).map((function(e){return e.type===m?c.cloneElement(e,{isCurrentPage:t}):e.type===h?c.cloneElement(e,{spacing:f,children:e.props.children||l}):e})),j=a({display:"inline-flex",alignItems:"center"},(0,r.yK)().item),b=(0,i.cx)("chakra-breadcrumb__list-item",g);return c.createElement(r.m$.li,a({ref:n,className:b},x,{__css:j}),v,!u&&c.createElement(h,{spacing:f},l))}));i.Ts&&(p.displayName="BreadcrumbItem");var g=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Breadcrumb",e),l=(0,r.Lr)(e),u=l.children,d=l.spacing,h=void 0===d?"0.5rem":d,m=l.separator,p=void 0===m?"/":m,g=l.className,x=s(l,f),v=(0,o.WR)(u),j=v.length,b=v.map((function(e,n){return c.cloneElement(e,{separator:p,spacing:h,isLastChild:j===n+1})})),y=(0,i.cx)("chakra-breadcrumb",g);return c.createElement(r.m$.nav,a({ref:n,"aria-label":"breadcrumb",className:y,__css:t.container},x),c.createElement(r.Fo,{value:t},c.createElement(r.m$.ol,{className:"chakra-breadcrumb__list"},b)))}));i.Ts&&(g.displayName="Breadcrumb")},51471:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(34896),i=t(88038),o=t.n(i),c=t(86677),a=(t(27378),t(90768)),s=t(35100),l=t(64989),u=t(48114),d=t(51365),f=t(29549),h=t(60709),m=t(24246),p=function(){var e=(0,c.useRouter)();return(0,m.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,m.jsxs)(r.xu,{children:[(0,m.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,m.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,m.jsx)(f.zx,{size:"sm",variant:"outline",onClick:function(){e.push(h.fz)},children:"Configure"})]}),(0,m.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},g=function(e){var n=e.children,t=e.title,i=(0,a.hz)(),f=(0,c.useRouter)(),h="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,g=!(i.flags.privacyRequestsConfiguration&&h),x=(0,d.JE)(void 0,{skip:g}).data,v=(0,d.PW)(void 0,{skip:g}).data,j=i.flags.privacyRequestsConfiguration&&(!x||!v)&&h;return(0,m.jsxs)(r.kC,{"data-testid":t,direction:"column",children:[(0,m.jsxs)(o(),{children:[(0,m.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,m.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,m.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,m.jsx)(s.Z,{}),(0,m.jsx)(u.Z,{}),(0,m.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,m.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,m.jsx)(l.U,{})}),(0,m.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[j?(0,m.jsx)(p,{}):null,n]})]})]})}},53333:function(e,n,t){"use strict";t.d(n,{Q:function(){return s}});var r=t(73679),i=t(34896),o=t(77751),c=t(29549),a=t(24246),s=function(e){var n=e.items,t=e.selected,i=e.onChange,o=n.every((function(e){return t.includes(e.id)}))&&!!n.length,c=n.some((function(e){return t.includes(e.id)}))&&!!n.length;return{allSelected:o,someSelected:c,handleToggleAll:function(){i(o?[]:n.map((function(e){return e.id})))},handleToggleSelection:function(e){t.includes(e)?i(t.filter((function(n){return n!==e}))):i([].concat((0,r.Z)(t),[e]))}}};n.Z=function(e){var n=e.title,t=e.items,r=e.selected,l=e.indeterminate,u=e.onChange,d=e.toggle,f=e.onViewMore,h=e.numSelected,m=f?t.slice(0,5):t,p=s({items:t,selected:r,onChange:u}),g=p.allSelected,x=p.someSelected,v=p.handleToggleAll,j=p.handleToggleSelection;return(0,a.jsx)(i.xu,{p:4,display:"flex",alignItems:"flex-start",gap:"4px",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.06), 0px 1px 3px 0px rgba(0, 0, 0, 0.1)",fontSize:"sm","data-testid":"picker-card-".concat(n),children:(0,a.jsxs)(i.gC,{alignItems:"flex-start",spacing:3,width:"100%",height:"100%",children:[(0,a.jsxs)(i.kC,{justifyContent:"space-between",width:"100%",children:[(0,a.jsx)(o.XZ,{fontSize:"md",textTransform:"capitalize",fontWeight:"semibold",isChecked:g,size:"md",mr:"2",onChange:v,colorScheme:"complimentary","data-testid":"select-all",isIndeterminate:!g&&x,children:n}),null!==d&&void 0!==d?d:null]}),h>0?(0,a.jsxs)(i.Ct,{colorScheme:"purple",variant:"solid",width:"fit-content","data-testid":"num-selected-badge",children:[h," selected"]}):null,(0,a.jsx)(i.gC,{paddingLeft:"6",fontSize:"sm",alignItems:"start",spacing:"2",children:(0,a.jsx)(o.cO,{colorScheme:"complimentary",children:m.map((function(e){return(0,a.jsx)(i.kC,{alignItems:"center",gap:"8px",children:(0,a.jsx)(o.XZ,{isChecked:r.includes(e.id),isIndeterminate:l.includes(e.id),size:"md",fontWeight:"500",onChange:function(){return j(e.id)},"data-testid":"".concat(e.name,"-checkbox"),children:e.name},e.id)},e.id)}))})}),f?(0,a.jsx)(c.zx,{size:"xs",variant:"ghost",onClick:f,"data-testid":"view-more-btn",children:"View more"}):null]})})}},44845:function(e,n,t){"use strict";var r=t(90849),i=t(90089),o=t(32751),c=t(5008),a=t(29549),s=t(24246),l=["search","onChange","withIcon","onClear","placeholder"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.search,t=e.onChange,r=e.withIcon,u=e.onClear,f=e.placeholder,h=(0,i.Z)(e,l);return(0,s.jsxs)(o.BZ,{size:"sm",minWidth:"308px",children:[r?(0,s.jsx)(o.Z8,{pointerEvents:"none",children:(0,s.jsx)(c.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,s.jsx)(o.II,d({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:n,name:"search",onChange:function(e){return t(e.target.value)},placeholder:f||""},h)),u?(0,s.jsx)(o.xH,{children:(0,s.jsx)(a.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:u,children:"Clear"})}):null]})}},27808:function(e,n,t){"use strict";var r=t(29549),i=t(24246);n.Z=function(e){var n=e.onClick,t=e.children;return(0,i.jsx)(r.zx,{as:"a",onClick:n,variant:"link",textDecor:"underline",textColor:"gray.700",fontWeight:"medium",display:"initial",cursor:"pointer",whiteSpace:"inherit",children:t})}},2458:function(e,n,t){"use strict";var r=t(90849),i=t(60530),o=t(34896),c=t(29549),a=t(24246);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.isOpen,t=e.onClose,r=e.onConfirm,s=e.onCancel,u=e.title,d=e.message,f=e.cancelButtonText,h=e.cancelButtonThemingProps,m=e.continueButtonText,p=e.continueButtonThemingProps,g=e.isLoading,x=e.returnFocusOnClose,v=e.isCentered,j=e.testId,b=void 0===j?"confirmation-modal":j,y=e.icon;return(0,a.jsxs)(i.u_,{isOpen:n,onClose:t,size:"lg",returnFocusOnClose:null===x||void 0===x||x,isCentered:v,children:[(0,a.jsx)(i.ZA,{}),(0,a.jsxs)(i.hz,{textAlign:"center",p:6,"data-testid":b,children:[y?(0,a.jsx)(o.M5,{mb:2,children:y}):null,u?(0,a.jsx)(i.xB,{fontWeight:"medium",pb:0,children:u}):null,d?(0,a.jsx)(i.fe,{children:d}):null,(0,a.jsx)(i.mz,{children:(0,a.jsxs)(o.MI,{columns:2,width:"100%",children:[(0,a.jsx)(c.zx,l(l({variant:"outline",mr:3,onClick:function(){s&&s(),t()},"data-testid":"cancel-btn",isDisabled:g},h),{},{children:f||"Cancel"})),(0,a.jsx)(c.zx,l(l({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:g},p),{},{children:m||"Continue"}))]})})]})]})}},93246:function(e,n,t){"use strict";t.d(n,{$q:function(){return a},F7:function(){return o},Il:function(){return i},VT:function(){return c},ji:function(){return s}});var r=t(76649),i=function(e,n){var t={};return new Set(e.map((function(e){return e.continent})).sort()).forEach((function(r){t[r]={locationGroups:n.filter((function(e){return e.continent===r})).sort((function(e,n){return e.name.localeCompare(n.name)})),locations:e.filter((function(e){return e.continent===r})).sort((function(e,n){return e.name.localeCompare(n.name)}))}})),t},o=function(e){var n={};return new Set(e.map((function(e){return e.continent})).sort()).forEach((function(t){n[t]=e.filter((function(e){return e.continent===t})).sort((function(e,n){return e.name.localeCompare(n.name)}))})),n},c=function(e){var n={};new Set(e.map((function(e){return e.belongs_to})).flat().sort()).forEach((function(t){t&&(n[t]=e.filter((function(e){var n;return null===(n=e.belongs_to)||void 0===n?void 0:n.includes(t)})).sort((function(e,n){return e.name.localeCompare(n.name)})))}));var t=e.filter((function(e){return!e.belongs_to||0===e.belongs_to.length}));return t.length&&(n.Other=t),n},a=function(e,n){var t,i;return i=e,(0,r.Ln)({selected:"boolean",regulation:["string"]},i)?!(null===(t=e.regulation)||void 0===t||!t.length):n.filter((function(n){var t;return null===(t=n.belongs_to)||void 0===t?void 0:t.includes(e.id)})).some((function(e){var n;return null===(n=e.regulation)||void 0===n?void 0:n.length}))},s=function(e){var n=e.group,t=e.selected,r=e.locations.filter((function(e){var t;return null===(t=e.belongs_to)||void 0===t?void 0:t.includes(n.id)}));return 0===r.length?"unchecked":r.every((function(e){return t.includes(e.id)}))?"checked":r.every((function(e){return!t.includes(e.id)}))?"unchecked":"indeterminate"}},39986:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var r=t(34896),i=t(24487),o=t(83125),c=t(79894),a=t.n(c),s=t(6848),l=t(51471),u=t(60709),d=t(17165),f=t(90849),h=t(55732),m=t(97865),p=t(34707),g=t.n(p),x=t(70409),v=t(21084),j=t(5008),b=t(29549),y=t(98784),C=t.n(y),O=t(86677),w=t(27378),k=t(78624),P=t(2458),S=t(53333),_=t(44845),E=t(24753),z=t(27808),Z=t(33167),N=t(93246),I=t(24246);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var R=function(e){var n,t=e.data,i=(0,x.pm)(),o=(0,v.qY)(),c=(0,w.useState)(null!==(n=t.regulations)&&void 0!==n?n:[]),a=c[0],s=c[1],l=(0,w.useState)(""),f=l[0],p=l[1],y=(0,d.WA)(),L=(0,m.Z)(y,2),R=L[0],W=L[1].isLoading,B=(0,w.useMemo)((function(){var e,n,r=null!==(e=null===(n=t.regulations)||void 0===n?void 0:n.filter((function(e){return function(e,n){var t;return null===(t=e.name)||void 0===t?void 0:t.toLocaleLowerCase().includes(n.toLocaleLowerCase())}(e,f)})))&&void 0!==e?e:[];return(0,N.F7)(r)}),[t.regulations,f]),D=!C().isEqual(a,t.regulations),A=(0,O.useRouter)(),q=function(){A.push(u.r5).then((function(){i.closeAll()}))},F=function(){var e=(0,h.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({regulations:a.map((function(e){return{id:e.id,selected:e.selected}})),locations:[]});case 2:n=e.sent,(0,Z.isErrorResult)(n)?i((0,E.Vo)((0,k.e$)(n.error))):i((0,E.t5)((0,I.jsxs)(r.xv,{children:["Fides has automatically associated the relevant locations with your regulation choices.",(0,I.jsx)(z.Z,{onClick:q,children:"View locations here."})]})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(r.gC,{alignItems:"start",spacing:4,children:[(0,I.jsx)(r.xu,{maxWidth:"510px",width:"100%",children:(0,I.jsx)(_.Z,{onChange:p,placeholder:"Search",search:f,onClear:function(){return p("")},"data-testid":"search-bar"})}),(0,I.jsx)(r.MI,{columns:{base:1,md:2,xl:3},spacing:6,width:"100%",children:Object.entries(B).map((function(e){var n=(0,m.Z)(e,2),t=n[0],r=n[1],i=a.filter((function(e){return r.find((function(n){return n.id===e.id}))&&e.selected})).map((function(e){return e.id}));return(0,I.jsx)(S.Z,{title:t,items:r,selected:i,onChange:function(e){!function(e){var n=a.map((function(n){var t=e.find((function(e){return e.id===n.id}));return null!==t&&void 0!==t?t:n}));s(n)}(r.map((function(n){return e.includes(n.id)?T(T({},n),{},{selected:!0}):T(T({},n),{},{selected:!1})})))},numSelected:i.length,indeterminate:[]},t)}))}),(0,I.jsx)(P.Z,{isOpen:o.isOpen,onClose:o.onClose,onConfirm:function(){F(),o.onClose()},title:"Location updates",message:"Modifications in your regulation settings may also affect your location settings to simplify management. You can override any Fides-initiated changes directly in the location settings.",isCentered:!0,icon:(0,I.jsx)(j.aN,{color:"orange"})}),D?(0,I.jsx)(b.zx,{colorScheme:"primary",size:"sm",onClick:o.onOpen,isLoading:W,"data-testid":"save-btn",children:"Save"}):null]})},W=function(){var e=(0,d.QM)().isLoading,n=(0,s.C)(d.P8);return(0,I.jsx)(l.Z,{title:"Regulations",children:(0,I.jsxs)(r.xu,{"data-testid":"location-management",children:[(0,I.jsx)(r.X6,{marginBottom:2,fontSize:"2xl",children:"Regulations"}),(0,I.jsxs)(i.aG,{fontWeight:"medium",fontSize:"sm",mb:"4",children:[(0,I.jsx)(i.gN,{children:(0,I.jsx)(a(),{href:u.e3,passHref:!0,children:(0,I.jsx)(i.At,{href:u.e3,children:"Management"})})}),(0,I.jsx)(i.gN,{children:(0,I.jsx)(i.At,{href:"#",children:"Regulations"})})]}),(0,I.jsxs)(r.xu,{children:[(0,I.jsxs)(r.xv,{marginBottom:4,fontSize:"sm",maxWidth:"600px",children:["Select the regulations that apply to your organizations compliance requirements. The selections you make here will automatically update your location selections."," ",(0,I.jsx)(r.xv,{color:"complimentary.500",children:(0,I.jsx)(a(),{href:u.r5,passHref:!0,children:"You can view your location settings here."})})]}),(0,I.jsx)(r.xu,{children:e?(0,I.jsx)(o.$,{}):(0,I.jsx)(R,{data:n})})]})]})})}},33167:function(e,n,t){"use strict";t.d(n,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=t(60041)},180:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/regulations",function(){return t(39986)}])}},function(e){e.O(0,[8033,2141,331,9774,2888,179],(function(){return n=180,e(e.s=n);var n}));var n=e.O();_N_E=n}]);