/*! For license information please see wagtail-shortcode.js.LICENSE.txt */
(()=>{"use strict";var t={251:(t,e,r)=>{var o=r(363),n=60103;if(e.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;n=i("react.element"),e.Fragment=i("react.fragment")}var a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function p(t,e,r){var o,i={},p=null,u=null;for(o in void 0!==r&&(p=""+r),void 0!==e.key&&(p=""+e.key),void 0!==e.ref&&(u=e.ref),e)c.call(e,o)&&!s.hasOwnProperty(o)&&(i[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps)void 0===i[o]&&(i[o]=e[o]);return{$$typeof:n,type:t,key:p,ref:u,props:i,_owner:a.current}}e.jsx=p,e.jsxs=p},893:(t,e,r)=>{t.exports=r(251)},672:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},i.apply(this,arguments)};e.__esModule=!0;var a=r(893),c=window.DraftJS.RichUtils,s=window.draftail.TooltipEntity,p=window.wagtail.components.Icon,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.componentDidMount=function(){var t,e=this.props,r=e.editorState,o=e.entityType,n=e.entity,i=e.entityKey,a=e.onComplete,s=r.getCurrentContent();n&&i&&(t=n.getData().shortcode);var p=function(){var t=document.querySelector("#wagtail-shortcode-config");if(!t||!t.textContent)throw new Error("No wagtail-shortcode configuration found.");try{return JSON.parse(t.textContent)}catch(t){throw new SyntaxError("Error parsing wagtail-shortcode configuration: ".concat(t.message))}}().helpText,u=window.prompt(p,t);if(u){var l=s.createEntity(o.type,"MUTABLE",{shortcode:u}).getLastCreatedEntityKey(),f=r.getSelection();a(c.toggleLink(r,f,l))}else a(r)},e.prototype.render=function(){return null},e}(window.React.Component);window.draftail.registerPlugin({type:"SHORTCODE",source:u,decorator:function(t){var e=t.entityKey,r=t.contentState.getEntity(e).getData();return(0,a.jsx)(s,i({},t,function(t){var e=t.shortcode||null;return{url:e,icon:(0,a.jsx)(p,{name:"link"}),label:e}}(r)))}},"entityTypes")},363:t=>{t.exports=React}},e={};!function r(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,r),i.exports}(672)})();