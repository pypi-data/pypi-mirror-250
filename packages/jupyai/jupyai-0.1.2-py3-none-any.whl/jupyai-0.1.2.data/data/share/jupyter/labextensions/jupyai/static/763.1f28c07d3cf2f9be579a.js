"use strict";(self.webpackChunkjupyai=self.webpackChunkjupyai||[]).push([[763],{763:(e,o,t)=>{t.r(o),t.d(o,{default:()=>u});var n=t(539),a=t(576),i=t(83),s=t(178),c=t(483),r=t(429);const l="jupyai:plugin",d=new i.LabIcon({name:"jupyai:wand",svgstr:t(1)}),u={id:l,description:"JupyAI is an experimental package to add AI capabilities to JupyterLab.",autoStart:!0,requires:[a.INotebookTracker,n.ISettingRegistry],activate:(e,o,t)=>{console.log("JupyterLab extension jupyai is activated!");const{commands:n}=e;let a="gpt-3.5-turbo";function i(e){a=e.get("modelName").composite,console.log(`Settings Example extension: model name is set to '${a}'`)}Promise.all([e.restored,t.load(l)]).then((([,e])=>{i(e),e.changed.connect(i)})).catch((e=>{console.error(`Something went wrong when reading the settings.\n${e}`)})),n.addCommand("jupyai:autocomplete",{icon:d,caption:"Autocomplete with AI",execute:()=>{const e=o.activeCell;if(e){let t,n;o.forEach((e=>{var o;t=null===(o=e.model)||void 0===o?void 0:o.sharedModel.toJSON(),n=null==t?void 0:t.cells.map((e=>({source:e.source,id:e.id})))})),s.Notification.info(`Running AI Autocomplete with ${a}`,{autoClose:1e3}),async function(e="",o={}){const t=r.ServerConnection.makeSettings(),n=c.URLExt.join(t.baseUrl,"jupyai",e);let a;try{a=await r.ServerConnection.makeRequest(n,o,t)}catch(e){throw new r.ServerConnection.NetworkError(e)}let i=await a.text();if(i.length>0)try{i=JSON.parse(i)}catch(e){console.log("Not a JSON response body.",a)}if(!a.ok)throw new r.ServerConnection.ResponseError(a,i.message||i);return i}("autocomplete",{body:JSON.stringify({cell:e.model.sharedModel.toJSON(),sources:n,model_name:a}),method:"POST"}).then((o=>{e.model.sharedModel.source=o.data})).catch((e=>{s.Notification.error(e.message,{autoClose:3e3})}))}},isVisible:()=>{var e;return"code"===(null===(e=o.activeCell)||void 0===e?void 0:e.model.type)}})}}},1:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--\x3e<path opacity="1" fill="#1E3050" d="M14.1 463.3c-18.7-18.7-18.7-49.1 0-67.9L395.4 14.1c18.7-18.7 49.1-18.7 67.9 0l34.6 34.6c18.7 18.7 18.7 49.1 0 67.9L116.5 497.9c-18.7 18.7-49.1 18.7-67.9 0L14.1 463.3zM347.6 187.6l105-105L429.4 59.3l-105 105 23.3 23.3z"/></svg>'}}]);