[tool.poetry]
name = "leximpact-survey-scenario"
version = "1.3.1"
description = "OpenFisca Survey Scenario for LexImpact"
authors = ["LexImpact <leximpact@an.fr>"]
license = "LGPLv3"
readme = "README.md"
packages = [{include = "leximpact_survey_scenario"}]

[tool.poetry.dependencies]
python = "^3.9"
OpenFisca-France-Data = "^3.0.1"
ipykernel = "^6.24.0"
scikit-learn = "^1.3.0"
python-decouple = "^3.8"
pytest-asyncio = "^0.21.1"

[tool.poetry.extras]

[tool.poetry.group.dev.dependencies]
pre-commit = "^2.17.0"
ruff = "^0.0.277"
black = "^23.3.0"
pytest = "^7.4.0"
pydocstyle = "^6.3.0"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.pytest.ini_options]
addopts = [
    "--import-mode=importlib",
]
pythonpath = "."

[tool.black]
line-length = 88
target-version = ['py39', 'py310', 'py311']
include = '\.pyi?$'

[tool.ruff]
# Enable the pycodestyle (`E`) and Pyflakes (`F`) rules by default.
# Unlike Flake8, Ruff doesn't enable pycodestyle warnings (`W`) or
# McCabe complexity (`C901`) by default.
select = ["E", "F"]
ignore = [
    "E501",  # Supress line-too-long warnings: trust black's judgement on this one.
    "F704",  # `await` statement outside of a function
]

# Allow autofix for all enabled rules (when `--fix`) is provided.
fixable = ["ALL"]
unfixable = []

# Exclude a variety of commonly ignored directories.
exclude = [
    ".git",
    ".git-rewrite",
    ".ruff_cache",
    ".venv",
    "__pypackages__",
    "_build",
    "build",
    "dist",
    "venv",
]
per-file-ignores = {}

# Same as Black.
line-length = 88

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"

target-version = "py310"

[tool.setuptools.packages.find]
leximpact_survey_scenario = ["*.json"]
