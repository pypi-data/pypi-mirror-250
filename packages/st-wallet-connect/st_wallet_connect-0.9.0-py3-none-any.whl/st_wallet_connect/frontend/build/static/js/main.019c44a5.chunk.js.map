{"version":3,"sources":["assets/Coinbase-icon-symbol-1.png","assets/WalletConnect-icon.png","assets/Metamask-icon.png","utils/connector.js","components/Button/index.jsx","pages/ModalButton/index.tsx","App.jsx","index.tsx"],"names":["module","exports","connectors","injected","InjectedConnector","supportedChainIds","walletConnect","WalletConnectConnector","rpcUrl","bridge","qrcode","coinbaseWallet","WalletLinkConnector","url","appName","SelectWalletModal","props","deactivate","activate","active","useWeb3React","initialConnect","setInitialConnect","useState","providerIcon","providerName","providerConnector","height","args","provider","coinbaseicon","walletconnect","metamask","connectWallet","async","connector","disconnecting","arguments","length","undefined","console","log","setHeight","React","createElement","Fragment","className","onClick","disconnect","src","alt","type","key","window","localStorage","setItem","button_text","ModalButton","Button","withStreamlitConnection","library","chainId","account","useEffect","Streamlit","setFrameHeight","contractAbiFragment","contractABI","ethers","utils","Interface","contractAddress","contract","setContract","signer","getSigner","contractInstance","Contract","concat","accountId","setAccountId","signature","setSignature","error","setError","network","setNetwork","message","setMessage","signedMessage","setSignedMessage","verified","setVerified","setComponentValue","address","handleAccountsChanged","accounts","on","removeListener","getContractBalance","verifyMessage","verify","request","method","params","toLowerCase","status","signMessage","messageHex","hexlify","toUtf8Bytes","refreshState","sendTransaction","recipient","amount","balance","balanceOf","formatEther","transaction","to","value","parseEther","toString","tx","receipt","hash","Object","assign","rootElement","document","getElementById","ReactDOM","render","StrictMode","Web3ReactProvider","getLibrary","providers","Web3Provider","pollingInterval","App"],"mappings":"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","file":"static/js/main.019c44a5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Coinbase-icon-symbol-1.3ee013be.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Metamask-icon.bca3db3e.png\";","import { InjectedConnector } from \"@web3-react/injected-connector\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\nimport { WalletLinkConnector } from \"@web3-react/walletlink-connector\";\n\nconst injected = new InjectedConnector({\n    supportedChainIds: [1, 3, 4, 5, 42]\n});\n\nconst walletconnect = new WalletConnectConnector({\n    rpcUrl: `https://mainnet.infura.io/v3/f682bff59d22456290f7a9b040812a68`,\n    bridge: \"https://bridge.walletconnect.org\",\n    qrcode: true,\n\n});\n\nconst walletlink = new WalletLinkConnector({\n    url: `https://mainnet.infura.io/v3/f682bff59d22456290f7a9b040812a68`,\n    appName: \"Wallet\"\n});\n\nexport const connectors = {\n    injected: injected,\n    walletConnect: walletconnect,\n    coinbaseWallet: walletlink\n};\n","import React, { useEffect, useState } from \"react\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { connectors } from \"../../utils/connector\"\nimport \"./button.css\"\nimport coinbaseicon from \"../../assets/Coinbase-icon-symbol-1.png\"\nimport walletconnect from \"../../assets/WalletConnect-icon.png\"\nimport metamask from \"../../assets/Metamask-icon.png\"\nimport { Streamlit } from \"streamlit-component-lib\"\n\nexport default function SelectWalletModal(props) {\n  const { deactivate, activate, active } = useWeb3React()\n\n  const [initialConnect, setInitialConnect] = useState(false)\n\n  const disconnect = () => {\n    // Unset all the States\n    deactivate()\n  }\n  let providerIcon\n  let providerName\n  let providerConnector\n  let height\n  if (props.args.provider === \"COINBASE\") {\n    providerIcon = coinbaseicon\n    providerName = \"coinbaseWallet\"\n    providerConnector = connectors.coinbaseWallet\n    height = 550\n  } else if (props.args.provider === \"WALLETCONNECT\") {\n    providerIcon = walletconnect\n    providerName = \"walletConnect\"\n    providerConnector = connectors.walletConnect\n    height = 750\n  } else if (props.args.provider === \"METAMASK\") {\n    providerIcon = metamask\n    providerName = \"injected\"\n    providerConnector = connectors.injected\n    height = 50\n  }\n\n  const setProvider = (type) => {\n    window.localStorage.setItem(\"provider\", type)\n  }\n\n  const connectWallet = async (connector, disconnecting = false) => {\n    if (disconnecting) {\n      setInitialConnect(false)\n      console.log(\"Disconnecting\")\n      await deactivate()\n    } else {\n      await activate(connector)\n      setInitialConnect(true)\n      props.setHeight(50)\n    }\n  }\n\n  return (\n    <>\n      {!active ? (\n        <button\n          onClick={() => {\n            if (props.args.key === \"disconnect\") {\n              connectWallet(null, true)\n            } else {\n              connectWallet(providerConnector)\n            }\n            setProvider(providerName)\n            props.setHeight(height)\n          }}\n          className=\"button className\"\n        >\n          <span className=\"button_icon\">\n            <img src={providerIcon} alt=\"Icon\" />\n          </span>\n          <span className=\"button_text\">{props.args.button_text}</span>\n        </button>\n      ) : (\n        <button className=\"button className\" onClick={disconnect}>\n          <span className=\"button_icon\">\n            <img src={providerIcon} alt=\"Icon\" />\n          </span>\n          <span className=\"button_text\">Disconnect</span>\n        </button>\n      )}\n    </>\n  )\n}\n","import React, { useEffect } from \"react\"\nimport {\n  Streamlit,ComponentProps\n} from \"streamlit-component-lib\"\nimport Button from \"../../components/Button\"\n\nconst ModalButton = (props : ComponentProps) => {\n  return (\n    <>\n      <Button {...props} />\n    </>\n  )\n}\n\nexport default ModalButton\n","import React, { useEffect, useState } from \"react\"\r\nimport { ethers } from \"ethers\"\r\nimport { useWeb3React } from \"@web3-react/core\"\r\nimport ModalButton from \"./pages/ModalButton\"\r\nimport { toHex, truncateAddress } from \"./utils/util\"\r\nimport {\r\n  ComponentProps,\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\"\r\n\r\nconst App = (props) => {\r\n  const { library, chainId, account, activate, deactivate, active } = useWeb3React();\r\n  const [height, setHeight] = useState(50)\r\n  useEffect(() => {\r\n    Streamlit.setFrameHeight(height)\r\n  })\r\n  console.log(\"This is height --- \", height)\r\n  // contract functions\r\n  const contractAbiFragment = library && props.args.contractABI\r\n    ? new ethers.utils.Interface([props.args.contractABI])\r\n    : null;\r\n  const contractAddress = props.args.contractAddress || null;\r\n  const [contract, setContract] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (library && account) {\r\n      const signer = library.getSigner(account)\r\n      let contractInstance = null;\r\n      if (contractAddress && contractAbiFragment) {\r\n        contractInstance = new ethers.Contract(\r\n          contractAddress,\r\n          contractAbiFragment,\r\n          signer\r\n        );\r\n      }\r\n      console.log(`Contract instance: ${contractInstance}`)\r\n      setContract(contractInstance)\r\n    }\r\n  }, [library, account])\r\n  //\r\n\r\n  \r\n  const [accountId, setAccountId] = useState(null)\r\n  const [signature, setSignature] = useState(\"\")\r\n  const [error, setError] = useState(\"\")\r\n  const [network, setNetwork] = useState(undefined)\r\n  const [message, setMessage] = useState(\"\")\r\n  const [signedMessage, setSignedMessage] = useState(\"\")\r\n  const [verified, setVerified] = useState()\r\n\r\n  useEffect(() => {\r\n    setAccountId(account)\r\n  }, [account])\r\n\r\n  useEffect(() => {\r\n    if (accountId) {\r\n      Streamlit.setComponentValue({ address: accountId })\r\n    } else {\r\n      Streamlit.setComponentValue({ address: \"None\" })\r\n    }\r\n  }, [accountId])\r\n\r\n  useEffect(() => {\r\n    if (library) {\r\n      const handleAccountsChanged = (accounts) => {\r\n        if (accounts.length === 0) {\r\n          // MetaMask is locked or the user has not connected any accounts\r\n          console.log(\"Please connect to MetaMask.\")\r\n          deactivate()\r\n          setAccountId(null) // Reset accountId state\r\n        } else if (accounts[0] !== account) {\r\n          // Do any clean up if necessary\r\n          deactivate()\r\n          // Then, you can request to connect the new account\r\n          //activate(connectors.injected);\r\n          setAccountId(accounts[0]) // Update accountId state\r\n        }\r\n      }\r\n\r\n      library.provider.on(\"accountsChanged\", handleAccountsChanged)\r\n\r\n      // Clean up the event listener\r\n      return () => {\r\n        library.provider.removeListener(\r\n          \"accountsChanged\",\r\n          handleAccountsChanged\r\n        )\r\n      }\r\n    }\r\n  }, [library, account, deactivate, activate])\r\n\r\n  useEffect(() => {\r\n    if (library) {\r\n      library.provider.on(\"accountsChanged\", () => {\r\n        // Force a re-render to update the UI with the new account\r\n        setAccountId(account)\r\n      })\r\n    }\r\n  }, [library, account])\r\n\r\n  useEffect(() => {\r\n    console.log(`Signature state: ${signature}`)\r\n  }, [signature])\r\n\r\n  useEffect(() => {\r\n    if (library) {\r\n      library.provider.on(\"disconnect\", () => {\r\n        // Handle disconnect\r\n        console.log(\"Wallet disconnected\")\r\n        // Force a re-render to update the UI\r\n        setAccountId(null)\r\n      })\r\n    }\r\n  }, [library])\r\n\r\n  useEffect(() => {\r\n    if (contract && accountId) {\r\n      if (props.args.key === \"contract-balance\") {\r\n        getContractBalance()\r\n      } else if (props.args.key === \"contract-buy\") {\r\n        // Call other contract function\r\n      }\r\n      // Add more conditions for other contract functions\r\n    }\r\n  }, [contract, accountId, props.args.key])\r\n\r\n  const verifyMessage = async () => {\r\n    if (!library) return\r\n    try {\r\n      console.log(`Verifying message: ${message}`)\r\n      console.log(`Signature: ${signature}`)\r\n      const verify = await library.provider.request({\r\n        method: \"personal_ecRecover\",\r\n        params: [message, signature],\r\n      })\r\n      console.log(`Verification result: ${verify === account.toLowerCase()}`)\r\n      setVerified(verify === account.toLowerCase())\r\n      Streamlit.setComponentValue({\r\n        status: \"success\",\r\n        message: `Message verification result: ${\r\n          verify === account.toLowerCase()\r\n        }`,\r\n      })\r\n    } catch (error) {\r\n      console.error(`Error in verifyMessage: ${error}`)\r\n      setError(error)\r\n      Streamlit.setComponentValue({\r\n        status: \"error\",\r\n        message: `Failed to verify message: ${error}`,\r\n      })\r\n    }\r\n  }\r\n\r\n  const signMessage = async () => {\r\n    if (!library) return\r\n    try {\r\n      const messageHex = ethers.utils.hexlify(ethers.utils.toUtf8Bytes(message))\r\n      const signature = await library.provider.request({\r\n        method: \"personal_sign\",\r\n        params: [messageHex, account],\r\n      })\r\n      console.log(`Message: ${message}`)\r\n      console.log(`Message Hex: ${messageHex}`)\r\n      console.log(`Signature: ${signature}`)\r\n      setSignedMessage(message)\r\n      setSignature(signature)\r\n      Streamlit.setComponentValue({\r\n        status: \"success\",\r\n        message: `Message signed successfully: ${signature}`,\r\n      })\r\n    } catch (error) {\r\n      setError(error)\r\n      Streamlit.setComponentValue({\r\n        status: \"error\",\r\n        message: `Failed to sign message: ${error}`,\r\n      })\r\n    }\r\n  }\r\n  const disconnect = () => {\r\n    refreshState()\r\n    deactivate()\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (active) {\r\n      if (props.args.key === \"transaction\") {\r\n        console.log(\"sending transaction\")\r\n        sendTransaction(props.args.recipient, props.args.amount)\r\n      } else if (props.args.key === \"contract-balance\") {\r\n        console.log(\"sending contract transaction\")\r\n        if (library && account) {\r\n          const signer = library.getSigner(account)\r\n          let contractInstance = null;\r\n          if (contractAddress && contractAbiFragment) {\r\n            contractInstance = new ethers.Contract(\r\n              contractAddress,\r\n              contractAbiFragment,\r\n              signer\r\n            );\r\n          }\r\n\r\n          //setContract(contractInstance)\r\n        } else {\r\n          console.log(\"Library or account not available\")\r\n        }\r\n      } else if (props.args.key === \"verify\") {\r\n        console.log(\"verifying message\")\r\n        setMessage(props.args.message)\r\n      } else if (props.args.key === \"disconnect\") {\r\n        console.log(\"disconnecting wallet\")\r\n        disconnect()\r\n      }\r\n    }\r\n  }, [\r\n    props.args.key,\r\n    props.args.recipient,\r\n    props.args.amount,\r\n    active,\r\n    signMessage,\r\n    verifyMessage,\r\n    library,\r\n    account,\r\n    disconnect,\r\n  ])\r\n\r\n  const handleNetwork = (e) => {\r\n    const id = e.target.value\r\n    setNetwork(Number(id))\r\n  }\r\n\r\n  const handleInput = (e) => {\r\n    const msg = e.target.value\r\n    setMessage(msg)\r\n  }\r\n\r\n  const switchNetwork = async () => {\r\n    try {\r\n      await library.provider.request({\r\n        method: \"wallet_switchEthereumChain\",\r\n        params: [{ chainId: toHex(network) }],\r\n      })\r\n    } catch (switchError) {\r\n      if (switchError.code === 4902) {\r\n        console.log(\"ERROR\")\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (message) {\r\n      signMessage()\r\n    }\r\n  }, [message])\r\n\r\n  useEffect(() => {\r\n    if (signature) {\r\n      verifyMessage()\r\n    }\r\n  }, [signature])\r\n\r\n  const getContractBalance = async () => {\r\n    try {\r\n      console.log(`Contract: ${contract}`)\r\n      console.log(`Account ID: ${accountId}`)\r\n      if (contract && accountId) {\r\n        console.log(`Getting balance for account: ${accountId}`)\r\n        const balance = await contract.balanceOf(accountId)\r\n        console.log(`Balance: ${balance}`)\r\n        Streamlit.setComponentValue({\r\n          status: \"success\",\r\n          account: accountId,\r\n          balance: ethers.utils.formatEther(balance),\r\n        })\r\n      } else {\r\n        console.error(\r\n          `Failed to get balance: contract or account is not defined`\r\n        )\r\n        Streamlit.setComponentValue({\r\n          status: \"error\",\r\n          message: `Failed to get balance: contract or account is not defined`,\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error(`Failed to get balance: ${error}`)\r\n      Streamlit.setComponentValue({\r\n        status: \"error\",\r\n        message: `Failed to get balance: ${error}`,\r\n      })\r\n    }\r\n  }\r\n\r\n  const sendTransaction = async (recipient, amount) => {\r\n    if (!library || !account) {\r\n      console.log(\"Library or account not available\")\r\n      console.log(\"library:\", library)\r\n      console.log(\"acct:\", account)\r\n      return\r\n    }\r\n\r\n    const signer = library.getSigner(account)\r\n    const transaction = {\r\n      to: recipient,\r\n      value: ethers.utils.parseEther(amount.toString()),\r\n    }\r\n\r\n    try {\r\n      console.log(\"Sending transaction\", transaction)\r\n      const tx = await signer.sendTransaction(transaction)\r\n      const receipt = await library.provider.request({\r\n        method: \"eth_getTransactionReceipt\",\r\n        params: [tx.hash],\r\n      })\r\n      console.log(\"Transaction receipt\", receipt)\r\n      console.log(`Transaction hash: ${tx.hash}`)\r\n      Streamlit.setComponentValue({\r\n        status: \"success\",\r\n        message: `Transaction sent successfully: ${tx.hash}`,\r\n      })\r\n    } catch (error) {\r\n      console.error(`Failed to send transaction: ${error}`)\r\n      Streamlit.setComponentValue({\r\n        status: \"error\",\r\n        message: `Failed to send transaction: ${error}`,\r\n      })\r\n    }\r\n  }\r\n\r\n  // Listen for the 'chainChanged' event instead of the 'networkChanged' event\r\n  useEffect(() => {\r\n    if (library) {\r\n      library.on(\"chainChanged\", () => {\r\n        // Handle chain change event\r\n      })\r\n    }\r\n  }, [library])\r\n\r\n\r\n  const refreshState = () => {\r\n    window.localStorage.setItem(\"provider\", undefined)\r\n    setNetwork(\"\")\r\n    setMessage(\"\")\r\n    setSignature(\"\")\r\n    setVerified(undefined)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <ModalButton {...props} setHeight={setHeight} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withStreamlitConnection(App)\r\n","import React from \"react\"\r\nimport { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Web3ReactProvider } from \"@web3-react/core\";\r\nimport { ethers } from \"ethers\";\r\nimport App from \"./App\";\r\n\r\nconst getLibrary = (provider) => {\r\n  const library = new ethers.providers.Web3Provider(provider);\r\n  library.pollingInterval = 8000; // frequency provider is polling\r\n  return library;\r\n};\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <Web3ReactProvider getLibrary={getLibrary}>\r\n      <App />\r\n    </Web3ReactProvider>\r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}