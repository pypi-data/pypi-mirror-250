import{au as J,av as ee,p as te,g as ae,c as Be,aw as Ve,m as Xe,ax as xe,f as et,d as tt,r as B,w as T,o as le,j as u,k as P,ay as at,az as lt,v as c,B as L,Z as W,G as p,z as D,K as N,n as $e,a6 as ot,a7 as nt,l as it,J as pe,a8 as st,N as rt,b as ut,y as s,x as y,H as C,O as K,q as z,F as G,D as H,M as ct,I as h,Y as dt}from"./index-5b1172bc.js";import{L as ft}from"./ListviewItem-04d7d325.js";import{B as E,_ as ye,L as Y}from"./ListItem-b9c49d57.js";import{_ as vt}from"./PanelviewItem.vue_vue_type_style_index_0_lang-1c7104a1.js";import{e as mt,i as pt,a as yt}from"./contextmenu-3c2199b2.js";import{A as ge}from"./Alert-a07eff42.js";import{C as gt}from"./Container-a332b54c.js";import{V as bt}from"./VToolbar-3fabcb4a.js";import{V as ht}from"./VTextField-d9c30cc8.js";import{V as be}from"./VBadge-b1e418ed.js";import{a as Ie,d as _e,z as kt,A as wt,c as St,B as Ct,C as Bt,D as Vt,E as $t,g as It,i as _t,F as Ft,G as At,k as O,V as Z,r as Pt,j as Q}from"./VImg-be2a571d.js";import{a as he}from"./VCard-5685d61c.js";import{m as Lt,a as Mt,f as ke,g as Ot,b as X,e as x,d as Nt}from"./VMenu-baf25798.js";import{V as Et}from"./VVirtualScroll-73d6e6d7.js";const Fe=(()=>J.reduce((t,d)=>(t[d]={type:[Boolean,String,Number],default:!1},t),{}))(),Ae=(()=>J.reduce((t,d)=>{const a="offset"+ee(d);return t[a]={type:[String,Number],default:null},t},{}))(),Pe=(()=>J.reduce((t,d)=>{const a="order"+ee(d);return t[a]={type:[String,Number],default:null},t},{}))(),we={col:Object.keys(Fe),offset:Object.keys(Ae),order:Object.keys(Pe)};function jt(t,d,a){let i=t;if(!(a==null||a===!1)){if(d){const o=d.replace(t,"");i+=`-${o}`}return t==="col"&&(i="v-"+i),t==="col"&&(a===""||a===!0)||(i+=`-${a}`),i.toLowerCase()}}const zt=["auto","start","end","center","baseline","stretch"],Tt=te({cols:{type:[Boolean,String,Number],default:!1},...Fe,offset:{type:[String,Number],default:null},...Ae,order:{type:[String,Number],default:null},...Pe,alignSelf:{type:String,default:null,validator:t=>zt.includes(t)},...Ie(),..._e()},"VCol"),Rt=ae()({name:"VCol",props:Tt(),setup(t,d){let{slots:a}=d;const i=Be(()=>{const o=[];let v;for(v in we)we[v].forEach(S=>{const I=t[S],b=jt(v,S,I);b&&o.push(b)});const _=o.some(S=>S.startsWith("v-col-"));return o.push({"v-col":!_||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),o});return()=>{var o;return Ve(t.tag,{class:[i.value,t.class],style:t.style},(o=a.default)==null?void 0:o.call(a))}}}),oe=["start","end","center"],Le=["space-between","space-around","space-evenly"];function ne(t,d){return J.reduce((a,i)=>{const o=t+ee(i);return a[o]=d(),a},{})}const Kt=[...oe,"baseline","stretch"],Me=t=>Kt.includes(t),Oe=ne("align",()=>({type:String,default:null,validator:Me})),Dt=[...oe,...Le],Ne=t=>Dt.includes(t),Ee=ne("justify",()=>({type:String,default:null,validator:Ne})),Ut=[...oe,...Le,"stretch"],je=t=>Ut.includes(t),ze=ne("alignContent",()=>({type:String,default:null,validator:je})),Se={align:Object.keys(Oe),justify:Object.keys(Ee),alignContent:Object.keys(ze)},qt={align:"align",justify:"justify",alignContent:"align-content"};function Gt(t,d,a){let i=qt[t];if(a!=null){if(d){const o=d.replace(t,"");i+=`-${o}`}return i+=`-${a}`,i.toLowerCase()}}const Ht=te({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Me},...Oe,justify:{type:String,default:null,validator:Ne},...Ee,alignContent:{type:String,default:null,validator:je},...ze,...Ie(),..._e()},"VRow"),Jt=ae()({name:"VRow",props:Ht(),setup(t,d){let{slots:a}=d;const i=Be(()=>{const o=[];let v;for(v in Se)Se[v].forEach(_=>{const S=t[_],I=Gt(v,_,S);I&&o.push(I)});return o.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),o});return()=>{var o;return Ve(t.tag,{class:["v-row",i.value,t.class],style:t.style},(o=a.default)==null?void 0:o.call(a))}}});const Wt=te({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...kt({location:"bottom"}),...wt(),...St(),...Ct(),...Xe(),...xe(Lt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Yt=ae()({name:"VSnackbar",props:Wt(),emits:{"update:modelValue":t=>!0},setup(t,d){let{slots:a}=d;const i=et(t,"modelValue"),{locationStyles:o}=Bt(t),{positionClasses:v}=Vt(t),{scopeId:_}=Mt(),{themeClasses:S}=tt(t),{colorClasses:I,colorStyles:b,variantClasses:M}=$t(t),{roundedClasses:g}=It(t),F=B();T(i,$),T(()=>t.timeout,$),le(()=>{i.value&&$()});let k=-1;function $(){window.clearTimeout(k);const m=Number(t.timeout);!i.value||m===-1||(k=window.setTimeout(()=>{i.value=!1},m))}function V(){window.clearTimeout(k)}return _t(()=>{const[m]=ke.filterProps(t);return u(ke,P({ref:F,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},v.value,t.class],style:t.style},m,{modelValue:i.value,"onUpdate:modelValue":R=>i.value=R,contentProps:P({class:["v-snackbar__wrapper",S.value,I.value,g.value,M.value],style:[o.value,b.value],onPointerenter:V,onPointerleave:$},m.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},_),{default:()=>[Ft(!1,"v-snackbar"),a.default&&u("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.default()]),a.actions&&u(At,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[u("div",{class:"v-snackbar__actions"},[a.actions()])]})],activator:a.activator})}),Ot({},F)}}),Te=(t,d)=>{const a=t.__vccOpts||t;for(const[i,o]of d)a[i]=o;return a},Zt={},Qt=t=>(ot("data-v-259be2b2"),t=t(),nt(),t),Xt={class:"container"},xt=Qt(()=>D("div",{class:"spinner"},null,-1)),ea=[xt];function ta(t,d){return c(),L("div",Xt,ea)}const aa=Te(Zt,[["render",ta],["__scopeId","data-v-259be2b2"],["__file","/home/oumoussa/side-projects/infinite/src/components/Spinner.vue"]]),la=t=>({loading(){t.value="loading"},loaded(){t.value="loaded"},complete(){t.value="complete"},error(){t.value="error"}}),oa=(t,d,a)=>()=>{const i=a.parentEl||document.documentElement;a.prevHeight=i.scrollHeight,d.loading(),t("infinite",d)},na=(t,d)=>{const a=t.getBoundingClientRect();if(!d)return a.top>=0&&a.bottom<=window.innerHeight;const i=d.getBoundingClientRect();return a.top>=i.top&&a.bottom<=i.bottom},Ce=t=>{t.parentEl=document.querySelector(t.target)||null;let d=`0px 0px ${t.distance}px 0px`;t.top&&(d=`${t.distance}px 0px 0px 0px`);const a=new IntersectionObserver(i=>{i[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:d});return a.observe(t.infiniteLoading.value),a},ia={class:"state-error"},sa={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:d}){const a=t;let i=null;const o=B(null),v=B("ready"),{top:_,firstload:S,target:I,distance:b}=a,{identifier:M}=at(a),g={infiniteLoading:o,target:I,top:_,firstload:S,distance:b,prevHeight:0,parentEl:null};g.emit=oa(d,la(v),g);const F=()=>T(v,async $=>{const V=g.parentEl||document.documentElement;await $e(),$=="loaded"&&_&&(V.scrollTop=V.scrollHeight-g.prevHeight),$=="loaded"&&na(o.value,g.parentEl)&&g.emit(),$=="complete"&&i.disconnect()}),k=()=>T(M,()=>{v.value="ready",i.disconnect(),i=Ce(g)});return le(()=>{i=Ce(g),F(),M&&k()}),lt(()=>{i.disconnect()}),($,V)=>(c(),L("div",{ref_key:"infiniteLoading",ref:o},[v.value=="loading"?W($.$slots,"spinner",{key:0},()=>[u(aa)],!0):p("v-if",!0),v.value=="complete"?W($.$slots,"complete",{key:1},()=>{var m;return[D("span",null,N(((m=t.slots)==null?void 0:m.complete)||"No more results!"),1)]},!0):p("v-if",!0),v.value=="error"?W($.$slots,"error",{key:2,retry:g.emit},()=>{var m;return[D("span",ia,[D("span",null,N(((m=t.slots)==null?void 0:m.error)||"Oops something went wrong!"),1),D("button",{class:"retry",onClick:V[0]||(V[0]=(...R)=>g.emit&&g.emit(...R))}," retry ")])]},!0):p("v-if",!0)],512))}},ra=Te(sa,[["__scopeId","data-v-9d82030b"],["__file","/home/oumoussa/side-projects/infinite/src/components/InfiniteLoading.vue"]]);const ua={key:0},ca={key:0},da={key:1},fa={key:5},Ia=it({__name:"ItemsListing",props:{itemtype:{},sortKeys:{default:()=>["name"]},showTrackNumber:{type:Boolean,default:!0},showProvider:{type:Boolean,default:Object.keys(pe.providers).length>1},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavoritesOnlyFilter:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},parentItem:{default:void 0},showAlbumArtistsOnlyFilter:{type:Boolean},showSearchButton:{type:Boolean,default:void 0},showRefreshButton:{type:Boolean,default:void 0},showSelectButton:{type:Boolean,default:void 0},updateAvailable:{type:Boolean},title:{},hideOnEmpty:{type:Boolean,default:!1},providerFilter:{},allowCollapse:{type:Boolean,default:!1},allowKeyHooks:{type:Boolean,default:!1},contextMenuItems:{},loadPagedData:{},loadItems:{},limit:{default:100},infiniteScroll:{type:Boolean,default:!0},path:{}},emits:["refreshClicked"],setup(t,{emit:d}){const a=t,i=st(),o=B({offset:0,limit:100,sortBy:"name",search:"",providerFilter:"library"}),v=B("list"),_=B(!1),S=B(!1),I=B(!1),b=B([]),M=B([]),g=B(),F=B(!1),k=B([]),$=B(!1),V=B(!1),m=B(!0),{t:R}=rt(),Re=function(){S.value?S.value=!1:(S.value=!0,$e(()=>{var e;(e=document.getElementById("searchInput"))==null||e.focus()}))},Ke=function(e){return h({breakpoint:"bp1",condition:"lt",offset:C.navigationMenuSize})?2:h({breakpoint:"bp1",condition:"gt",offset:C.navigationMenuSize})&&h({breakpoint:"bp4",condition:"lt",offset:C.navigationMenuSize})?3:h({breakpoint:"bp4",condition:"gt",offset:C.navigationMenuSize})&&h({breakpoint:"bp6",condition:"lt",offset:C.navigationMenuSize})?4:h({breakpoint:"bp6",condition:"gt",offset:C.navigationMenuSize})&&h({breakpoint:"bp7",condition:"lt",offset:C.navigationMenuSize})?5:h({breakpoint:"bp7",condition:"gt",offset:C.navigationMenuSize})&&h({breakpoint:"bp8",condition:"lt",offset:C.navigationMenuSize})?6:h({breakpoint:"bp8",condition:"gt",offset:C.navigationMenuSize})&&h({breakpoint:"bp9",condition:"lt",offset:C.navigationMenuSize})?7:h({breakpoint:"bp9",condition:"gt",offset:C.navigationMenuSize})&&h({breakpoint:"bp10",condition:"lt",offset:C.navigationMenuSize})?8:h({breakpoint:"bp10",condition:"gt",offset:C.navigationMenuSize})?9:0},De=function(){m.value=!m.value,localStorage.setItem(`expand.${a.itemtype}`,m.value.toString())},Ue=function(){v.value==="panel"?v.value="list":v.value="panel",localStorage.setItem(`viewMode.${a.itemtype}`,v.value)},qe=function(){o.value.favoritesOnly=!o.value.favoritesOnly;const e=o.value.favoritesOnly?"true":"false";localStorage.setItem(`favoriteFilter.${a.itemtype}`,e),j(!0)},Ge=function(){o.value.albumArtistsFilter=!o.value.albumArtistsFilter;const e=o.value.albumArtistsFilter?"true":"false";localStorage.setItem(`albumArtistsFilter.${a.itemtype}`,e),j(!0)},ie=function(e){return k.value.includes(e)},se=function(e,n){if(n)k.value.includes(e)||k.value.push(e);else for(let l=0;l<k.value.length;l++)k.value[l]===e&&k.value.splice(l,1)},He=function(){V.value&&(k.value=[]),V.value=!V.value},U=function(e,n=!0){k.value=[e],re(n)},re=function(e=!0){mt.emit("playdialog",{items:k.value,parentItem:a.parentItem,showContextMenuItems:e})},Je=function(){d("refreshClicked"),j(!0,void 0,!0)},ue=function(e){var n;if(!pt(e)){U(e,!1);return}e.media_type==ct.FOLDER?i.push({name:"browse",query:{path:e.path}}):["artist","album","playlist"].includes(e.media_type)||!((n=C.selectedPlayer)!=null&&n.available)?i.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):U(e,!0)},We=function(e,n){e!==void 0&&(o.value.sortBy=e),localStorage.setItem(`sortBy.${a.itemtype}`,o.value.sortBy),j(!0,void 0,e=="original")},Ye=function(e){o.value.providerFilter=e,console.log("changeActiveProviderFilter",e),j(!0,void 0,!0)},ce=function(e){if(b.value.length==0){e&&e.loaded();return}if(g.value!==void 0&&o.value.offset>=g.value){e&&e.loaded();return}o.value.offset+=a.limit,j().then(()=>{e&&e.loaded()})},Ze=function(){localStorage.setItem("globalsearch",o.value.search),i.push({name:"search",params:{initSearch:o.value.search}})};T(()=>o.value.search,e=>{e&&(S.value=!0),j(!0);let n=`search.${a.itemtype}`;a.parentItem&&(n+=a.parentItem.item_id),localStorage.setItem(n,o.value.search)}),T(()=>a.path,()=>{M.value=[],de()}),T(()=>a.limit,e=>{o.value.limit=e});const j=async function(e=!1,n=a.limit,l=!1){if((e||l)&&(o.value.offset=0,$.value=!1),F.value=!0,o.value.limit=a.limit,a.loadPagedData!==void 0){const w=await a.loadPagedData(o.value);w&&(o.value.offset?b.value.push(...w.items):b.value=w.items,g.value=w.total)}else if(a.loadItems!==void 0){(M.value.length===0||l)&&(M.value=[],M.value=await a.loadItems(o.value),o.value,g.value=M.value.length);const w=Qe(M.value,o.value);o.value.offset?b.value.push(...w):b.value=w}F.value=!1},q=function(e){return"label"in e&&e.label&&e.name?R(e.label,[e.name]):"label"in e&&e.label?R(e.label):"sort_name"in e&&e.sort_name?e.sort_name:e.name},Qe=function(e,n){var w,A;let l=[];if(n.search){const f=n.search.toLowerCase();for(const r of e)(r.name.toLowerCase().includes(f)||"artist"in r&&((w=r.artist)!=null&&w.name.toLowerCase().includes(f))||"album"in r&&((A=r.album)!=null&&A.name.toLowerCase().includes(f))||"artists"in r&&r.artists&&r.artists[0].name.toLowerCase().includes(f))&&l.push(r)}else l=e;return n.sortBy=="name"&&l.sort((f,r)=>q(f).localeCompare(q(r))),n.sortBy=="name_desc"&&l.sort((f,r)=>q(r).localeCompare(q(f))),n.sortBy=="album"&&l.sort((f,r)=>{var ve,me;return(me=f.album)==null?void 0:me.sort_name.localeCompare((ve=r.album)==null?void 0:ve.sort_name)}),n.sortBy=="artist"&&l.sort((f,r)=>f.artists[0].name.localeCompare(r.artists[0].name)),n.sortBy=="track_number"&&(l.sort((f,r)=>(f.track_number||0)-(r.track_number||0)),l.sort((f,r)=>(f.disc_number||0)-(r.disc_number||0))),n.sortBy=="position"&&l.sort((f,r)=>(f.position||0)-(r.position||0)),n.sortBy=="position_desc"&&l.sort((f,r)=>(r.position||0)-(f.position||0)),n.sortBy=="year"&&l.sort((f,r)=>(f.year||0)-(r.year||0)),n.sortBy=="recent"&&l.sort((f,r)=>(r.timestamp_added||0)-(f.timestamp_added||0)),n.sortBy=="duration"&&l.sort((f,r)=>(f.duration||0)-(r.duration||0)),n.sortBy=="duration_desc"&&l.sort((f,r)=>(r.duration||0)-(f.duration||0)),n.sortBy=="provider"&&l.sort((f,r)=>f.provider.localeCompare(r.provider)),n.favoritesOnly&&(l=l.filter(f=>f.favorite)),l.slice(n.offset,n.offset+n.limit)},de=function(){const e=localStorage.getItem(`viewMode.${a.itemtype}`);e&&e!=="null"?v.value=e:a.itemtype=="artists"||a.itemtype=="albums"?v.value="panel":v.value="list";const n=localStorage.getItem(`sortBy.${a.itemtype}`);if(n&&n!=="null"&&a.sortKeys.includes(n)?o.value.sortBy=n:o.value.sortBy=a.sortKeys[0],a.showFavoritesOnlyFilter!==!1){const A=localStorage.getItem(`favoriteFilter.${a.itemtype}`);A&&A=="true"&&(o.value.favoritesOnly=!0)}if(a.showAlbumArtistsOnlyFilter!==!1){const A=localStorage.getItem(`albumArtistsFilter.${a.itemtype}`);A&&(o.value.albumArtistsFilter=A=="true")}if(a.allowCollapse!==!1){const A=localStorage.getItem(`expand.${a.itemtype}`);A&&(m.value=A=="true")}let l=`search.${a.itemtype}`;a.parentItem&&(l+=a.parentItem.item_id);const w=localStorage.getItem(l);w&&w!=="null"&&(o.value.search=w),j(!0)};le(async()=>{de()});const fe=function(e){if(!C.dialogActive)if(e.key==="a"&&(e.ctrlKey||e.metaKey)){for(e.preventDefault();b.value.length<g.value&&!(g.value!==void 0&&o.value.offset>=g.value);)o.value.offset+=a.limit,j();k.value=b.value,V.value=!0}else!I.value&&e.key=="Backspace"?o.value.search=o.value.search.slice(0,-1):!I.value&&e.key.length==1&&(o.value.search+=e.key,S.value=!0)};return a.allowKeyHooks&&(document.addEventListener("keydown",fe),ut(()=>{document.removeEventListener("keydown",fe)})),(e,n)=>e.hideOnEmpty&&b.value.length==0?p("",!0):(c(),L("section",ua,[u(bt,{color:"transparent"},{title:s(()=>[K(N(e.title)+" ",1),z(h)("bp11")?(c(),y(be,{key:0,color:"grey",content:g.value,inline:""},null,8,["content"])):p("",!0)]),append:s(()=>[(e.showSelectButton!=null?e.showSelectButton:z(h)("bp1"))?(c(),y(E,P({key:0},a,{variant:"list",title:e.$t("tooltip.select_items"),disabled:!m.value,onClick:He}),{default:s(()=>[u(O,{icon:V.value?"mdi-checkbox-multiple-outline":"mdi-checkbox-multiple-blank-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),(e.showFavoritesOnlyFilter!=null?e.showFavoritesOnlyFilter:z(h)("bp1"))?(c(),y(E,P({key:1},a,{variant:"list",title:e.$t("tooltip.filter_favorites"),disabled:!m.value,onClick:qe}),{default:s(()=>[u(O,{icon:o.value.favoritesOnly?"mdi-heart":"mdi-heart-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),e.showAlbumArtistsOnlyFilter?(c(),y(E,P({key:2},a,{variant:"list",title:e.$t("tooltip.album_artist_filter"),disabled:!m.value,onClick:Ge}),{default:s(()=>[u(O,{icon:o.value.albumArtistsFilter?"mdi-account-music":"mdi-account-music-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),(e.showRefreshButton!=null?e.showRefreshButton:z(h)("bp1"))?(c(),y(E,P({key:3},a,{variant:"list",title:e.updateAvailable?e.$t("tooltip.refresh_new_content"):e.$t("tooltip.refresh"),disabled:!m.value||F.value,onClick:n[0]||(n[0]=l=>Je())}),{default:s(()=>[u(be,{"model-value":e.updateAvailable,color:"error",dot:""},{default:s(()=>[u(O,{icon:"mdi-refresh"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):p("",!0),e.sortKeys.length>1?(c(),y(x,{key:4,modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=l=>_.value=l),location:"bottom end","close-on-content-click":!0},{activator:s(({props:l})=>[u(E,P(l,{variant:"list",disabled:!m.value,title:e.$t("tooltip.sort_options")}),{default:s(()=>[u(O,P(l,{icon:"mdi-sort"}),null,16)]),_:2},1040,["disabled","title"])]),default:s(()=>[u(he,null,{default:s(()=>[u(X,null,{default:s(()=>[(c(!0),L(G,null,H(e.sortKeys,l=>(c(),L("div",{key:l},[u(Y,{onClick:w=>We(l)},{title:s(()=>[K(N(e.$t("sort."+l)),1)]),append:s(()=>[o.value.sortBy==l?(c(),y(O,{key:0,icon:"mdi-check"})):p("",!0)]),_:2},1032,["onClick"]),u(Z)]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0),(e.showSearchButton!=null?e.showSearchButton:z(h)("bp1"))?(c(),y(E,P({key:5},a,{variant:"list",title:e.$t("tooltip.search"),disabled:!m.value,onClick:n[2]||(n[2]=l=>Re())}),{default:s(()=>[u(O,{icon:"mdi-magnify"})]),_:1},16,["title","disabled"])):p("",!0),u(E,P(a,{variant:"list",title:e.$t("tooltip.toggle_view_mode"),disabled:!m.value,onClick:n[3]||(n[3]=l=>Ue())}),{default:s(()=>[u(O,{icon:v.value=="panel"?"mdi-view-list":"mdi-grid"},null,8,["icon"])]),_:1},16,["title","disabled"]),e.providerFilter&&e.providerFilter.length>1?(c(),y(x,{key:6,location:"bottom end","close-on-content-click":!0},{activator:s(({props:l})=>[u(E,P(l,{variant:"list",disabled:!m.value}),{default:s(()=>[u(ye,{domain:o.value.providerFilter,size:30},null,8,["domain"])]),_:2},1040,["disabled"])]),default:s(()=>[u(he,null,{default:s(()=>[u(X,null,{default:s(()=>[(c(!0),L(G,null,H(e.providerFilter,l=>(c(),L("div",{key:l},[u(Y,{onClick:w=>Ye(l)},{prepend:s(()=>[u(ye,{domain:l,size:30},null,8,["domain"])]),title:s(()=>[l=="library"?(c(),L("span",ca,N(e.$t("library")),1)):(c(),L("span",da,N(z(pe).getProviderName(l)),1))]),append:s(()=>[o.value.providerFilter==l?(c(),y(O,{key:0,icon:"mdi-check"})):p("",!0)]),_:2},1032,["onClick"]),u(Z)]))),128))]),_:1})]),_:1})]),_:1})):p("",!0),e.contextMenuItems&&e.contextMenuItems.length>0?(c(),y(x,{key:7,location:"bottom end"},{activator:s(({props:l})=>[u(E,P({variant:"list",style:{right:"3px"}},l),{default:s(()=>[u(O,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:s(()=>[u(X,null,{default:s(()=>[(c(!0),L(G,null,H(e.contextMenuItems.filter(l=>l.hide!=!0),(l,w)=>(c(),y(Y,{key:w,title:e.$t(l.label,l.labelArgs),disabled:l.disabled==!0,onClick:A=>l.action?l.action():""},{prepend:s(()=>[u(Nt,{icon:l.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1})):p("",!0),e.allowCollapse?(c(),y(E,{key:8,variant:"list",title:e.$t("tooltip.collapse_expand"),onClick:De},{default:s(()=>[u(O,{icon:m.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1},8,["title"])):p("",!0)]),_:1}),u(Z),S.value&&m.value?(c(),y(ht,{key:0,id:"searchInput",modelValue:o.value.search,"onUpdate:modelValue":n[4]||(n[4]=l=>o.value.search=l),clearable:"","prepend-inner-icon":"mdi-magnify",label:e.$t("search"),"hide-details":"",variant:"filled",style:{width:"auto","margin-top":"10px"},onFocus:n[5]||(n[5]=l=>I.value=!0),onBlur:n[6]||(n[6]=l=>I.value=!1)},null,8,["modelValue","label"])):p("",!0),m.value?(c(),y(gt,{key:1,variant:v.value=="panel"?"panel":"default"},{default:s(()=>[F.value?(c(),y(Pt,{key:0,indeterminate:""})):p("",!0),v.value=="panel"?(c(),y(Jt,{key:1},{default:s(()=>[(c(!0),L(G,null,H(b.value,l=>(c(),y(Rt,{key:l.uri,class:dt(`col-${Ke(e.$vuetify.display.width)}`)},{default:s(()=>[u(vt,{item:l,"is-selected":ie(l),"show-checkboxes":V.value,"show-track-number":e.showTrackNumber,onSelect:se,onMenu:U,onClick:ue},null,8,["item","is-selected","show-checkboxes","show-track-number"])]),_:2},1032,["class"]))),128))]),_:1})):p("",!0),v.value=="list"?(c(),y(Et,{key:2,height:70,items:b.value,style:{height:"100%"}},{default:s(({item:l})=>[u(ft,{item:l,"show-track-number":e.showTrackNumber,"show-disc-number":e.showTrackNumber,"show-duration":e.showDuration,"show-favorite":e.showFavoritesOnlyFilter,"show-menu":e.showMenu,"show-provider":e.showProvider,"show-album":e.showAlbum,"show-checkboxes":V.value,"is-selected":ie(l),"show-details":e.itemtype.includes("versions"),"parent-item":e.parentItem,"context-menu-items":e.showMenu?z(yt)([l],e.parentItem):[],onSelect:se,onMenu:U,onClick:ue},null,8,["item","show-track-number","show-disc-number","show-duration","show-favorite","show-menu","show-provider","show-album","show-checkboxes","is-selected","show-details","parent-item","context-menu-items"])]),_:1},8,["items"])):p("",!0),e.infiniteScroll?(c(),y(z(ra),{key:3,onInfinite:ce})):(g.value||0)>b.value.length?(c(),y(Q,{key:4,variant:"plain",onClick:n[7]||(n[7]=l=>ce())},{default:s(()=>[K(N(e.$t("load_more_items")),1)]),_:1})):p("",!0),!F.value&&b.value.length==0?(c(),L("div",fa,[!F.value&&b.value.length==0&&(o.value.search||o.value.favoritesOnly)?(c(),y(ge,{key:0,title:e.$t("no_content_filter")},{default:s(()=>[o.value.search?(c(),y(Q,{key:0,style:{"margin-top":"15px"},onClick:Ze},{default:s(()=>[K(N(e.$t("try_global_search")),1)]),_:1})):p("",!0)]),_:1},8,["title"])):!F.value&&b.value.length==0?(c(),y(ge,{key:1},{default:s(()=>[K(N(e.$t("no_content")),1)]),_:1})):p("",!0)])):p("",!0),u(Yt,{"model-value":k.value.length>1,timeout:-1,style:{"margin-bottom":"120px"}},{actions:s(()=>[u(Q,{color:"primary",variant:"text",onClick:n[8]||(n[8]=l=>re(!0))},{default:s(()=>[K(N(e.$t("actions")),1)]),_:1})]),default:s(()=>[D("span",null,N(e.$t("items_selected",[k.value.length])),1)]),_:1},8,["model-value"])]),_:1},8,["variant"])):p("",!0)]))}});export{Rt as V,Ia as _,Jt as a};
