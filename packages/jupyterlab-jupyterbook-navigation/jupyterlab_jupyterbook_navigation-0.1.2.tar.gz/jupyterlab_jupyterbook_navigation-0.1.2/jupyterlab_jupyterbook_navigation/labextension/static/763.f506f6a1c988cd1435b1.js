"use strict";(self.webpackChunkjupyterlab_jupyterbook_navigation=self.webpackChunkjupyterlab_jupyterbook_navigation||[]).push([[763],{763:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var n=o(698),r=o(483),a=o(429),i=o(778),c=o(160),l=o(88);const s={id:"jupyterlab-jupyterbook-navigation:plugin",description:"A JupyterLab extension that mimics jupyter-book chapter navigation on an un-built, cloned jupyter book in JupyterLab.",autoStart:!0,requires:[n.ILabShell,l.IFileBrowserFactory,c.IDocumentManager],activate:async(e,t,o,n)=>{console.log("JupyterLab extension jupyterlab-jupyterbook-navigation is activated!");const c=new i.Widget;c.id="@jupyterlab-sidepanel/jupyterbook-toc",c.title.iconClass="jbook-icon jp-SideBar-tabIcon",c.title.className="jbook-tab",c.title.caption="Jupyter-Book Table of Contents";const l=document.createElement("p");c.node.appendChild(l),c.activate=async()=>{console.debug("Widget shown");const e=o.tracker.currentWidget;e?console.debug("Active file browser widget found."):console.debug("File browser widget is null.");try{const t=await async function(e="",t="",o={}){const n=a.ServerConnection.makeSettings();let i,c=r.URLExt.join(n.baseUrl,"jupyterlab-jupyterbook-navigation",e);t&&(c+=`?browser_dir=${encodeURIComponent(t)}`);try{i=await a.ServerConnection.makeRequest(c,o,n)}catch(e){throw new a.ServerConnection.NetworkError(e)}let l=await i.text();if(l.length>0)try{l=JSON.parse(l)}catch(e){console.log("Not a JSON response body.",i)}if(!i.ok)throw new a.ServerConnection.ResponseError(i,l.message||l);return l}("get-toc",null==e?void 0:e.model.path);console.log(t),l.innerHTML=t.data,function(e,t){document.querySelectorAll(".toc-button").forEach((o=>{o.addEventListener("click",(n=>{if(console.log("Button clicked"),!e)return void console.error("File browser is not available.");if("string"!=typeof e.model.path)return void console.error(`Invalid path: The current path is either not set or not a string. Path: ${e.model.path}`);console.log(`Current directory: ${e.model.path}`);const r=e.model.path,a=o.getAttribute("data-file-path");"string"==typeof a&&(a.includes(".md")?t.openOrReveal(r+"/"+a,"Markdown Preview"):t.openOrReveal(r+"/"+a))}))}))}(e,n),document.querySelectorAll(".toc-chevron").forEach((e=>{const t=e;t.addEventListener("click",(e=>{console.log("Button clicked"),function(e){var t;const o=null===(t=e.parentElement)||void 0===t?void 0:t.nextElementSibling;"none"===o.style.display?(o.style.display="block",e.innerHTML='<i class="fa fa-chevron-up toc-chevron"></i>'):(o.style.display="none",e.innerHTML='<i class="fa fa-chevron-down toc-chevron"></i>')}(t)}))}))}catch(e){console.error(`The jupyterlab_jupyterbook_navigation server extension appears to be missing.\n${e}`)}},t.add(c,"left",{rank:400}),c.activate()}}}}]);