"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[159,502],{61502:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y},useShadowRoot:function(){return G},useWebComponentInfo:function(){return K}});var i=t(29439),r=t(74165),o=t(15861),a=t(24530),l=t(24717),c=t(61724);function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,i=(0,a.Qc)(e),r=(0,l.Vn)(i,{Field:{enter:function(e){var i;if(null!==e&&void 0!==e&&null!==(i=e.directives)&&void 0!==i&&i.find((function(e){var i,r,o,a,l=e.name.value,c=null===(i=e.arguments)||void 0===i?void 0:i[0].name.value,s=null===(r=e.arguments)||void 0===r||null===(o=r[0].value)||void 0===o?void 0:o.value,u=null===(a=e.arguments)||void 0===a?void 0:a[0];if("since"===l&&"version"===c){if(t(s))return!0}else if("deprecatedSince"===l&&"version"===c){var d="StringValue"===(null===u||void 0===u?void 0:u.value.kind)?null===u||void 0===u?void 0:u.value.value:n[null===u||void 0===u?void 0:u.value.name.value];if(!t(d))return!0}else if("skipOnClient"===l&&"if"===c){if("BooleanValue"===(null===u||void 0===u?void 0:u.value.kind)&&u.value.value)return!0;if("Variable"===(null===u||void 0===u?void 0:u.value.kind)&&n[u.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),o={};return(0,l.Vn)(r,{Variable:function(e){o[e.name.value]=(o[e.name.value]||0)+1}}),r=(0,l.Vn)(r,{VariableDefinition:{enter:function(e){if(o[e.variable.name.value]<=1)return null}}}),(0,c.S)(r)}var u=t(41011);u.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var d=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,t){var i,o,a,l,c,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return a=s(n.text||"",t,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),l={query:a,variables:t},c=null===(i=globalThis.backendaiclient)||void 0===i?void 0:i.newSignedRequest("POST","/admin/gql",l),e.next=8,null===(o=globalThis.backendaiclient)||void 0===o?void 0:o._wrapWithPromise(c,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return u=e.t0,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();var v,f=new u.Environment({network:u.Network.create(d,void 0),store:new u.Store(new u.RecordSource)}),m=t(80382),p=t(27340),h=t(41239),g=t(47226),x=t(49883),b=t(66670),y=t(99517),Z=t.n(y),w=(t(24989),t(79354)),j=t.n(w),k=t(79748),C=t.n(k),E=t(51714),S=t.n(E),P=t(63540),N=t.n(P),O=t(18272),L=t.n(O),T=t(9666),V=t.n(T),R=t(64447),_=t(13881),z=t(4519),I=t(81748),A=t(87112),F=t(16980),M=t(51843),B=t(12674),H=t(55144),W=t(73181),q=t(2556);Z().extend(V()),Z().extend(j()),Z().extend(C()),Z().extend(S()),Z().extend(L()),Z().extend(N());var Q=z.createContext(null),D=z.createContext(null),G=function(){return z.useContext(D)},K=function(){return z.useContext(Q)},$=new A.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});R.ZP.use(I.Db).use(_.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(v=globalThis.backendaioptions)||void 0===v?void 0:v.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var J=function(){var e=(0,B.s0)();return(0,z.useLayoutEffect)((function(){var n=function(n){var t=n.detail;e(t,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},Y=function(e){var n=e.children,t=e.value,r=e.styles,o=e.shadowRoot,a=e.dispatchEvent,l=(0,z.useMemo)((function(){return(0,p.Df)()}),[]),c=function(){var e,n=(0,z.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,I.$G)().i18n;return(0,z.useEffect)((function(){setTimeout((function(){return null===a||void 0===a?void 0:a.changeLanguage(r)}),0),Z().locale(r)}),[]),(0,z.useEffect)((function(){var e=function(e){var n,t;o(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var i=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.lang)||"en";null===a||void 0===a||a.changeLanguage(i),Z().locale(i)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[a]),[r]}(),s=(0,i.Z)(c,1)[0],u=(0,m.x)(),d=(0,z.useMemo)((function(){return{value:t,dispatchEvent:a,moveTo:function(e,n){a("moveTo",{path:e,params:n})}}}),[t,a]);return(0,q.jsx)(q.Fragment,{children:f&&(0,q.jsx)(F.RelayEnvironmentProvider,{environment:f,children:(0,q.jsxs)(z.StrictMode,{children:[(0,q.jsxs)("style",{children:[r,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,q.jsx)(A.QueryClientProvider,{client:$,children:(0,q.jsx)(D.Provider,{value:o,children:(0,q.jsx)(Q.Provider,{value:d,children:(0,q.jsx)(h.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||o},locale:"ko"===s?b.Z:x.Z,theme:u,children:(0,q.jsx)(g.Z,{children:(0,q.jsx)(p.V9,{container:o,cache:l,children:(0,q.jsx)(z.Suspense,{fallback:"",children:(0,q.jsx)(M.VK,{children:(0,q.jsxs)(H.QueryParamProvider,{adapter:W.Q,options:{},children:[(0,q.jsx)(J,{}),n]})})})})})})})})})]})})})}},18159:function(e,n,t){t.r(n);var i=t(1413),r=t(36459),o=t(77758),a=t(61502),l=t(99277),c=t(83861),s=t(28501),u=t(20558),d=t(70389),v=t(92171),f=t(57054),m=t(41679),p=t(38818),h=(t(4519),t(81748)),g=t(2556),x=d.Z.Text;n.default=function(e){var n,t=Object.assign({},((0,r.Z)(e),e)),d=(0,h.$G)().t,b=(0,a.useWebComponentInfo)(),y=b.value,Z=b.dispatchEvent;try{n=JSON.parse(y||"")}catch(C){n={open:!1,servicePorts:[]}}var w=n,j=w.open,k=w.servicePorts;return(0,g.jsx)(o.Z,(0,i.Z)((0,i.Z)({open:j,onCancel:function(){Z("cancel",null)},centered:!0,title:d("environment.ManageApps")},t),{},{footer:[(0,g.jsxs)(l.Z,{direction:"row",justify:"between",children:[(0,g.jsx)(v.ZP,{type:"text",danger:!0,children:d("button.Reset")}),(0,g.jsx)(v.ZP,{type:"primary",icon:(0,g.jsx)(c.Z,{}),children:d("button.Save")})]})],children:(0,g.jsx)(f.Z,{initialValues:{apps:k},onFinish:function(e){console.log("Saved settings. ",e)},autoComplete:"off",children:(0,g.jsxs)(l.Z,{direction:"column",gap:"xs",children:[(0,g.jsxs)(m.Z.Compact,{block:!0,children:[(0,g.jsx)(x,{style:{width:"30%"},children:d("environment.AppName")}),(0,g.jsx)(x,{style:{width:"30%"},children:d("environment.Protocol")}),(0,g.jsx)(x,{style:{width:"30%"},children:d("environment.Port")}),(0,g.jsx)(x,{style:{width:"10%",textAlign:"center"}})]}),(0,g.jsx)(f.Z.List,{name:"apps",children:function(e,n){var t=n.add,r=n.remove;return(0,g.jsxs)(l.Z,{direction:"column",gap:"sm",children:[e.map((function(e){return(0,g.jsxs)(l.Z,{direction:"row",gap:"xs",children:[(0,g.jsxs)(m.Z.Compact,{block:!0,children:[(0,g.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"app"],rules:[{required:!0,message:d("environment.AppNameMustNotBeEmpty")}],noStyle:!0,children:(0,g.jsx)(p.Z,{})})),(0,g.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"protocol"],noStyle:!0,children:(0,g.jsx)(p.Z,{})})),(0,g.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"port"],noStyle:!0,children:(0,g.jsx)(p.Z,{})}))]},e.key),(0,g.jsx)(v.ZP,{type:"text",onClick:function(){return r(e.name)},style:{width:"10%"},icon:(0,g.jsx)(s.Z,{})})]})})),(0,g.jsx)(v.ZP,{type:"dashed",onClick:function(){return t()},block:!0,icon:(0,g.jsx)(u.Z,{}),children:d("button.Add")})]})}})]})})}))}},28501:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(87462),r=t(4519),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},a=t(9491),l=function(e,n){return r.createElement(a.Z,(0,i.Z)({},e,{ref:n,icon:o}))};var c=r.forwardRef(l)},41679:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(4942),r=t(29439),o=t(4519),a=t(43270),l=t.n(a),c=t(95882);function s(e){return["small","middle","large"].includes(e)}function u(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}var d=t(48698),v=t(42746),f=o.createContext({latestIndex:0}),m=f.Provider,p=function(e){var n=e.className,t=e.index,i=e.children,r=e.split,a=e.style,l=o.useContext(f).latestIndex;return null===i||void 0===i?null:o.createElement(o.Fragment,null,o.createElement("div",{className:n,style:a},i),t<l&&r&&o.createElement("span",{className:"".concat(n,"-split")},r))},h=t(83522),g=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},x=o.forwardRef((function(e,n){var t,a,v,f=o.useContext(d.E_),x=f.getPrefixCls,b=f.space,y=f.direction,Z=e.size,w=void 0===Z?(null===b||void 0===b?void 0:b.size)||"small":Z,j=e.align,k=e.className,C=e.rootClassName,E=e.children,S=e.direction,P=void 0===S?"horizontal":S,N=e.prefixCls,O=e.split,L=e.style,T=e.wrap,V=void 0!==T&&T,R=e.classNames,_=e.styles,z=g(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),I=Array.isArray(w)?w:[w,w],A=(0,r.Z)(I,2),F=A[0],M=A[1],B=s(M),H=s(F),W=u(M),q=u(F),Q=(0,c.Z)(E,{keepEmpty:!0}),D=void 0===j&&"horizontal"===P?"center":j,G=x("space",N),K=(0,h.Z)(G),$=(0,r.Z)(K,2),J=$[0],Y=$[1],U=l()(G,null===b||void 0===b?void 0:b.className,Y,"".concat(G,"-").concat(P),(t={},(0,i.Z)(t,"".concat(G,"-rtl"),"rtl"===y),(0,i.Z)(t,"".concat(G,"-align-").concat(D),D),(0,i.Z)(t,"".concat(G,"-gap-row-").concat(M),B),(0,i.Z)(t,"".concat(G,"-gap-col-").concat(F),H),t),k,C),X=l()("".concat(G,"-item"),null!==(a=null===R||void 0===R?void 0:R.item)&&void 0!==a?a:null===(v=null===b||void 0===b?void 0:b.classNames)||void 0===v?void 0:v.item),ee=0,ne=Q.map((function(e,n){var t,i;null!==e&&void 0!==e&&(ee=n);var r=e&&e.key||"".concat(X,"-").concat(n);return o.createElement(p,{className:X,key:r,index:n,split:O,style:null!==(t=null===_||void 0===_?void 0:_.item)&&void 0!==t?t:null===(i=null===b||void 0===b?void 0:b.styles)||void 0===i?void 0:i.item},e)})),te=o.useMemo((function(){return{latestIndex:ee}}),[ee]);if(0===Q.length)return null;var ie={};return V&&(ie.flexWrap="wrap"),!H&&q&&(ie.columnGap=F),!B&&W&&(ie.rowGap=M),J(o.createElement("div",Object.assign({ref:n,className:U,style:Object.assign(Object.assign(Object.assign({},ie),null===b||void 0===b?void 0:b.style),L)},z),o.createElement(m,{value:te},ne)))}));var b=x;b.Compact=v.ZP;var y=b}}]);
//# sourceMappingURL=159.36251be5.chunk.js.map