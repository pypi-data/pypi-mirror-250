"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[556,502],{61502:function(e,n,l){l.r(n),l.d(n,{default:function(){return H},useShadowRoot:function(){return z},useWebComponentInfo:function(){return W}});var i=l(29439),a=l(74165),t=l(15861),r=l(24530),o=l(24717),s=l(61724);function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0,i=(0,r.Qc)(e),a=(0,o.Vn)(i,{Field:{enter:function(e){var i;if(null!==e&&void 0!==e&&null!==(i=e.directives)&&void 0!==i&&i.find((function(e){var i,a,t,r,o=e.name.value,s=null===(i=e.arguments)||void 0===i?void 0:i[0].name.value,u=null===(a=e.arguments)||void 0===a||null===(t=a[0].value)||void 0===t?void 0:t.value,d=null===(r=e.arguments)||void 0===r?void 0:r[0];if("since"===o&&"version"===s){if(l(u))return!0}else if("deprecatedSince"===o&&"version"===s){var c="StringValue"===(null===d||void 0===d?void 0:d.value.kind)?null===d||void 0===d?void 0:d.value.value:n[null===d||void 0===d?void 0:d.value.name.value];if(!l(c))return!0}else if("skipOnClient"===o&&"if"===s){if("BooleanValue"===(null===d||void 0===d?void 0:d.value.kind)&&d.value.value)return!0;if("Variable"===(null===d||void 0===d?void 0:d.value.kind)&&n[d.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),t={};return(0,o.Vn)(a,{Variable:function(e){t[e.name.value]=(t[e.name.value]||0)+1}}),a=(0,o.Vn)(a,{VariableDefinition:{enter:function(e){if(t[e.variable.name.value]<=1)return null}}}),(0,s.S)(a)}var d=l(41011);d.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var c=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,l){var i,t,r,o,s,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return r=u(n.text||"",l,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),o={query:r,variables:l},s=null===(i=globalThis.backendaiclient)||void 0===i?void 0:i.newSignedRequest("POST","/admin/gql",o),e.next=8,null===(t=globalThis.backendaiclient)||void 0===t?void 0:t._wrapWithPromise(s,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return d=e.t0,e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)})));return function(n,l){return e.apply(this,arguments)}}();var v,m=new d.Environment({network:d.Network.create(c,void 0),store:new d.Store(new d.RecordSource)}),f=l(80382),p=l(27340),g=l(41239),b=l(47226),h=l(49883),k=l(66670),x=l(99517),y=l.n(x),S=(l(24989),l(79354)),w=l.n(S),j=l(79748),_=l.n(j),T=l(51714),Z=l.n(T),E=l(63540),F=l.n(E),C=l(18272),L=l.n(C),P=l(9666),K=l.n(P),I=l(64447),O=l(13881),V=l(4519),N=l(81748),D=l(87112),Q=l(16980),R=l(51843),A=l(12674),M=l(55144),U=l(73181),q=l(2556);y().extend(K()),y().extend(w()),y().extend(_()),y().extend(Z()),y().extend(L()),y().extend(F());var $=V.createContext(null),B=V.createContext(null),z=function(){return V.useContext(B)},W=function(){return V.useContext($)},Y=new D.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});I.ZP.use(N.Db).use(O.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(v=globalThis.backendaioptions)||void 0===v?void 0:v.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var G=function(){var e=(0,A.s0)();return(0,V.useLayoutEffect)((function(){var n=function(n){var l=n.detail;e(l,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},H=function(e){var n=e.children,l=e.value,a=e.styles,t=e.shadowRoot,r=e.dispatchEvent,o=(0,V.useMemo)((function(){return(0,p.Df)()}),[]),s=function(){var e,n=(0,V.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),l=(0,i.Z)(n,2),a=l[0],t=l[1],r=(0,N.$G)().i18n;return(0,V.useEffect)((function(){setTimeout((function(){return null===r||void 0===r?void 0:r.changeLanguage(a)}),0),y().locale(a)}),[]),(0,V.useEffect)((function(){var e=function(e){var n,l;t(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var i=(null===e||void 0===e||null===(l=e.detail)||void 0===l?void 0:l.lang)||"en";null===r||void 0===r||r.changeLanguage(i),y().locale(i)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[r]),[a]}(),u=(0,i.Z)(s,1)[0],d=(0,f.x)(),c=(0,V.useMemo)((function(){return{value:l,dispatchEvent:r,moveTo:function(e,n){r("moveTo",{path:e,params:n})}}}),[l,r]);return(0,q.jsx)(q.Fragment,{children:m&&(0,q.jsx)(Q.RelayEnvironmentProvider,{environment:m,children:(0,q.jsxs)(V.StrictMode,{children:[(0,q.jsxs)("style",{children:[a,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,q.jsx)(D.QueryClientProvider,{client:Y,children:(0,q.jsx)(B.Provider,{value:t,children:(0,q.jsx)($.Provider,{value:c,children:(0,q.jsx)(g.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||t},locale:"ko"===u?k.Z:h.Z,theme:d,children:(0,q.jsx)(b.Z,{children:(0,q.jsx)(p.V9,{container:t,cache:o,children:(0,q.jsx)(V.Suspense,{fallback:"",children:(0,q.jsx)(R.VK,{children:(0,q.jsxs)(M.QueryParamProvider,{adapter:U.Q,options:{},children:[(0,q.jsx)(G,{}),n]})})})})})})})})})]})})})}},4652:function(e,n,l){l.r(n);var i,a=l(1413),t=l(36459),r=l(87760),o=l(77758),s=l(61502),u=l(92171),d=l(93448),c=l(39883),v=l(82548),m=l(32048),f=l.n(m),p=(l(4519),l(81748)),g=l(87112),b=l(16980),h=l(2556);n.default=function(e){var n,m,k=Object.assign({},((0,t.Z)(e),e)),x=(0,p.$G)().t,y=(0,s.useWebComponentInfo)(),S=y.value,w=y.dispatchEvent;try{m=JSON.parse(S||"")}catch(O){m={open:!1,userEmail:""}}var j,_=m,T=_.open,Z=_.userEmail,E=(0,r.Dj)(),F=null===E||void 0===E?void 0:E.supports("sudo-session-enabled"),C=(0,g.useQuery)("isManagerSupportingTOTP",(function(){return E.isManagerSupportingTOTP()}),{suspense:!1}),L=C.data,P=C.isLoading;j=(null===E||void 0===E?void 0:E.supports("2FA"))&&L;var K=(0,b.useLazyLoadQuery)(void 0!==i?i:i=l(21960),{email:Z,isNotSupportSudoSessionEnabled:!F,isTOTPSupported:null!==(n=j)&&void 0!==n&&n}).user,I={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,h.jsxs)(o.Z,(0,a.Z)((0,a.Z)({open:T,onCancel:function(){w("cancel",null)},centered:!0,title:x("credential.UserDetail"),footer:[(0,h.jsx)(u.ZP,{type:"primary",onClick:function(){w("cancel",null)},children:x("button.OK")},"ok")]},k),{},{children:[(0,h.jsx)("br",{}),(0,h.jsxs)(d.Z,{size:"small",column:I,title:x("credential.Information"),labelStyle:{width:"50%"},children:[(0,h.jsx)(d.Z.Item,{label:x("credential.UserID"),children:null===K||void 0===K?void 0:K.email}),(0,h.jsx)(d.Z.Item,{label:x("credential.UserName"),children:null===K||void 0===K?void 0:K.username}),(0,h.jsx)(d.Z.Item,{label:x("credential.FullName"),children:null===K||void 0===K?void 0:K.full_name}),(0,h.jsx)(d.Z.Item,{label:x("credential.MainAccessKey"),children:null===K||void 0===K?void 0:K.main_access_key}),(0,h.jsx)(d.Z.Item,{label:x("credential.DescActiveUser"),children:"active"===(null===K||void 0===K?void 0:K.status)?x("button.Yes"):x("button.No")}),(0,h.jsx)(d.Z.Item,{label:x("credential.DescRequirePasswordChange"),children:null!==K&&void 0!==K&&K.need_password_change?x("button.Yes"):x("button.No")}),F&&(0,h.jsx)(d.Z.Item,{label:x("credential.EnableSudoSession"),children:null!==K&&void 0!==K&&K.sudo_session_enabled?x("button.Yes"):x("button.No")}),j&&(0,h.jsx)(d.Z.Item,{label:x("webui.menu.TotpActivated"),children:(0,h.jsx)(c.Z,{spinning:P,children:null!==K&&void 0!==K&&K.totp_activated?x("button.Yes"):x("button.No")})})]}),(0,h.jsx)("br",{}),(0,h.jsxs)(d.Z,{size:"small",column:I,title:x("credential.Association"),labelStyle:{width:"50%"},children:[(0,h.jsx)(d.Z.Item,{label:x("credential.Domain"),children:null===K||void 0===K?void 0:K.domain_name}),(0,h.jsx)(d.Z.Item,{label:x("credential.Role"),children:null===K||void 0===K?void 0:K.role})]}),(0,h.jsx)("br",{}),(0,h.jsx)(d.Z,{title:x("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,h.jsx)(d.Z.Item,{children:f().map(null===K||void 0===K?void 0:K.groups,(function(e){return(0,h.jsx)(v.Z,{children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})]}))}},21960:function(e,n,l){l.r(n);var i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportSudoSessionEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],n=[{kind:"Variable",name:"email",variableName:"email"}],l={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},m={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]},f={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[l,i,a,t,r,o,s,u,c,v,m,f],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[l,i,a,t,r,o,s,u,c,v,m,f,d],storageKey:null}]},params:{cacheID:"129326e5b3fef57774f2f8359d108efb",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:'query UserInfoModalQuery(\n  $email: String\n  $isNotSupportSudoSessionEnabled: Boolean!\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    sudo_session_enabled @skipOnClient(if: $isNotSupportSudoSessionEnabled)\n    totp_activated @include(if: $isTOTPSupported)\n    main_access_key @since(version: "23.09.7")\n    id\n  }\n}\n'}}}();i.hash="e2f5a5bfd435e95cb128afc7a7fbcd46",n.default=i}}]);
//# sourceMappingURL=556.dfe38df9.chunk.js.map