"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[525,502,540],{61502:function(e,n,t){t.r(n),t.d(n,{default:function(){return H},useShadowRoot:function(){return B},useWebComponentInfo:function(){return Y}});var a=t(29439),i=t(74165),r=t(15861),o=t(24530),l=t(24717),u=t(61724);function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=(0,o.Qc)(e),i=(0,l.Vn)(a,{Field:{enter:function(e){var a;if(null!==e&&void 0!==e&&null!==(a=e.directives)&&void 0!==a&&a.find((function(e){var a,i,r,o,l=e.name.value,u=null===(a=e.arguments)||void 0===a?void 0:a[0].name.value,s=null===(i=e.arguments)||void 0===i||null===(r=i[0].value)||void 0===r?void 0:r.value,d=null===(o=e.arguments)||void 0===o?void 0:o[0];if("since"===l&&"version"===u){if(t(s))return!0}else if("deprecatedSince"===l&&"version"===u){var c="StringValue"===(null===d||void 0===d?void 0:d.value.kind)?null===d||void 0===d?void 0:d.value.value:n[null===d||void 0===d?void 0:d.value.name.value];if(!t(c))return!0}else if("skipOnClient"===l&&"if"===u){if("BooleanValue"===(null===d||void 0===d?void 0:d.value.kind)&&d.value.value)return!0;if("Variable"===(null===d||void 0===d?void 0:d.value.kind)&&n[d.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),r={};return(0,l.Vn)(i,{Variable:function(e){r[e.name.value]=(r[e.name.value]||0)+1}}),i=(0,l.Vn)(i,{VariableDefinition:{enter:function(e){if(r[e.variable.name.value]<=1)return null}}}),(0,u.S)(i)}var d=t(41011);d.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var c=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n,t){var a,r,o,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return o=s(n.text||"",t,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),l={query:o,variables:t},u=null===(a=globalThis.backendaiclient)||void 0===a?void 0:a.newSignedRequest("POST","/admin/gql",l),e.next=8,null===(r=globalThis.backendaiclient)||void 0===r?void 0:r._wrapWithPromise(u,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return d=e.t0,e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();var m,f=new d.Environment({network:d.Network.create(c,void 0),store:new d.Store(new d.RecordSource)}),v=t(80382),p=t(27340),g=t(41239),w=t(47226),h=t(49883),b=t(66670),P=t(99517),Z=t.n(P),x=(t(24989),t(79354)),y=t.n(x),k=t(79748),j=t.n(k),S=t(51714),T=t.n(S),_=t(63540),C=t.n(_),F=t(18272),E=t.n(F),L=t(9666),M=t.n(L),V=t(64447),N=t(13881),O=t(4519),I=t(81748),R=t(87112),A=t(16980),q=t(51843),K=t(12674),z=t(55144),D=t(73181),Q=t(2556);Z().extend(M()),Z().extend(y()),Z().extend(j()),Z().extend(T()),Z().extend(E()),Z().extend(C());var U=O.createContext(null),$=O.createContext(null),B=function(){return O.useContext($)},Y=function(){return O.useContext(U)},W=new R.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});V.ZP.use(I.Db).use(N.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(m=globalThis.backendaioptions)||void 0===m?void 0:m.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var G=function(){var e=(0,K.s0)();return(0,O.useLayoutEffect)((function(){var n=function(n){var t=n.detail;e(t,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},H=function(e){var n=e.children,t=e.value,i=e.styles,r=e.shadowRoot,o=e.dispatchEvent,l=(0,O.useMemo)((function(){return(0,p.Df)()}),[]),u=function(){var e,n=(0,O.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),t=(0,a.Z)(n,2),i=t[0],r=t[1],o=(0,I.$G)().i18n;return(0,O.useEffect)((function(){setTimeout((function(){return null===o||void 0===o?void 0:o.changeLanguage(i)}),0),Z().locale(i)}),[]),(0,O.useEffect)((function(){var e=function(e){var n,t;r(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var a=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.lang)||"en";null===o||void 0===o||o.changeLanguage(a),Z().locale(a)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[o]),[i]}(),s=(0,a.Z)(u,1)[0],d=(0,v.x)(),c=(0,O.useMemo)((function(){return{value:t,dispatchEvent:o,moveTo:function(e,n){o("moveTo",{path:e,params:n})}}}),[t,o]);return(0,Q.jsx)(Q.Fragment,{children:f&&(0,Q.jsx)(A.RelayEnvironmentProvider,{environment:f,children:(0,Q.jsxs)(O.StrictMode,{children:[(0,Q.jsxs)("style",{children:[i,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,Q.jsx)(R.QueryClientProvider,{client:W,children:(0,Q.jsx)($.Provider,{value:r,children:(0,Q.jsx)(U.Provider,{value:c,children:(0,Q.jsx)(g.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||r},locale:"ko"===s?b.Z:h.Z,theme:d,children:(0,Q.jsx)(w.Z,{children:(0,Q.jsx)(p.V9,{container:r,cache:l,children:(0,Q.jsx)(O.Suspense,{fallback:"",children:(0,Q.jsx)(q.VK,{children:(0,Q.jsxs)(z.QueryParamProvider,{adapter:D.Q,options:{},children:[(0,Q.jsx)(G,{}),n]})})})})})})})})})]})})})}},38540:function(e,n,t){t.r(n),t.d(n,{passwordPattern:function(){return b}});var a=t(29439),i=t(43255),r=t(87760),o=t(50164),l=t(61502),u=t(99277),s=t(69080),d=t(44036),c=t(57054),m=t(65113),f=t(70389),v=t(38818),p=t(92171),g=t(4519),w=t(81748),h=t(2556),b=/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[_\W]).{8,}$/;n.default=function(){var e,n=(0,l.useWebComponentInfo)(),t=n.value,P=n.dispatchEvent;try{e=JSON.parse(t||"")}catch(M){e={open:!1,currentPassword:"",username:"",api_endpoint:""}}var Z=e,x=Z.open,y=Z.currentPassword,k=Z.username,j=Z.api_endpoint,S=d.Z.useToken().token,T=c.Z.useForm(),_=(0,a.Z)(T,1)[0],C=(0,w.$G)().t;(0,g.useEffect)((function(){x&&_.resetFields()}),[x,_]);var F=(0,r.M)({api_endpoint:j}),E=(0,o.Y)({mutationFn:function(e){return(0,i.Lc)({method:"POST",url:"/server/update-password-no-auth",body:e,client:F})}}),L=function(){_.validateFields().then((function(e){E.mutate({username:k,current_password:y,new_password:e.newPassword},{onSuccess:function(e,n,t){P("ok",null)},onError:function(e,n,t){}})}))};return(0,h.jsx)(m.Z,{open:x,centered:!0,mask:!1,onCancel:function(){P("cancel",null)},keyboard:!1,maskClosable:!1,footer:null,width:450,destroyOnClose:!0,forceRender:!0,children:(0,h.jsxs)(u.Z,{direction:"column",justify:"start",align:"stretch",gap:"md",style:{alignSelf:"stretch",paddingTop:S.paddingMD,paddingBottom:S.paddingMD},children:[(0,h.jsxs)(f.Z.Title,{level:3,style:{margin:0},children:[(0,h.jsx)(s.Z,{twoToneColor:S.colorWarning})," ",C("webui.menu.PleaseChangeYourPassword")]}),C("webui.menu.YouMushChangeYourPassword"),(0,h.jsxs)(c.Z,{form:_,layout:"vertical",initialValues:{currentPassword:y},disabled:E.isLoading,children:[(0,h.jsx)(c.Z.Item,{name:"newPassword",label:C("webui.menu.NewPassword"),rules:[{required:!0},{pattern:b,message:C("webui.menu.InvalidPasswordMessage").toString()},function(){return{validator:function(e,n){return y===n?Promise.reject(new Error(C("webui.menu.NewPasswordCannotBeSame").toString())):Promise.resolve()}}}],hasFeedback:!0,children:(0,h.jsx)(v.Z.Password,{})}),(0,h.jsx)(c.Z.Item,{name:"confirm",label:C("webui.menu.NewPasswordAgain"),dependencies:["newPassword"],hasFeedback:!0,rules:[{required:!0},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("newPassword")!==t?Promise.reject(new Error(C("environment.PasswordsDoNotMatch").toString())):Promise.resolve()}}}],children:(0,h.jsx)(v.Z.Password,{onPressEnter:L})})]}),(0,h.jsx)(p.ZP,{type:"primary",onClick:L,loading:E.isLoading,children:C("webui.menu.Update")})]})})}},14749:function(e,n,t){var a,i=t(1413),r=t(29439),o=t(44925),l=t(87760),u=t(50164),s=t(77758),d=t(99277),c=t(44036),m=t(57054),f=t(88464),v=t(39883),p=t(42272),g=t(70389),w=t(38818),h=(t(4519),t(81748)),b=t(87112),P=t(16980),Z=t(2556),x=["userFrgmt","onRequestClose"];n.Z=function(e){var n=e.userFrgmt,y=void 0===n?null:n,k=e.onRequestClose,j=(0,o.Z)(e,x),S=(0,h.$G)().t,T=c.Z.useToken().token,_=m.Z.useForm(),C=(0,r.Z)(_,1)[0],F=(0,P.useFragment)(void 0!==a?a:a=t(78067),y),E=(0,l.Dj)(),L=(0,b.useQuery)({queryKey:["initialize_totp",null===E||void 0===E?void 0:E.email,j.open],queryFn:function(){return(null===F||void 0===F?void 0:F.email)!==(null===E||void 0===E?void 0:E.email)||null!==F&&void 0!==F&&F.totp_activated||!j.open?null:E.initialize_totp()},suspense:!1,staleTime:0,cacheTime:0}),M=(0,u.Y)({mutationFn:function(e){return E.activate_totp(e.otp)}});return(0,Z.jsx)(s.Z,(0,i.Z)((0,i.Z)({title:S("webui.menu.SetupTotp"),maskClosable:!1,confirmLoading:M.isLoading,onOk:function(){C.validateFields().then((function(e){M.mutate(e,{onSuccess:function(){f.ZP.success(S("totp.TotpSetupCompleted")),k(!0)},onError:function(){f.ZP.error(S("totp.InvalidTotpCode"))}}),new Promise((function(e,n){})).then((function(){k(!0)}))}))},onCancel:function(){k()},style:{zIndex:1}},j),{},{children:L.isLoading?(0,Z.jsx)(d.Z,{justify:"center",direction:"row",children:(0,Z.jsx)(v.Z,{})}):L.data?(0,Z.jsxs)(m.Z,{preserve:!1,form:C,validateTrigger:["onChange","onBlur"],children:[S("totp.TypeInAuthKey"),(0,Z.jsx)(d.Z,{justify:"center",style:{margin:T.marginSM,gap:T.margin},children:(0,Z.jsx)(p.Z,{value:L.data.totp_uri})}),S("totp.ScanQRToEnable"),(0,Z.jsx)(d.Z,{justify:"center",style:{margin:T.marginSM,gap:T.margin},children:(0,Z.jsx)(g.Z.Text,{copyable:!0,code:!0,children:L.data.totp_key})}),S("totp.TypeInAuthKey"),(0,Z.jsx)(d.Z,{justify:"center",style:{margin:T.marginSM,gap:T.margin},children:(0,Z.jsx)(m.Z.Item,{required:!0,name:"otp",children:(0,Z.jsx)(w.Z,{maxLength:6,allowClear:!0,placeholder:"000000",style:{maxWidth:120}})})})]}):(0,Z.jsx)(d.Z,{justify:"center",direction:"row",children:S("totp.TotpSetupNotAvailable")})}))}},36525:function(e,n,t){t.r(n);var a,i=t(1413),r=t(29439),o=t(44925),l=t(87760),u=t(1839),s=t(50164),d=t(77758),c=t(38540),m=t(14749),f=t(88724),v=t(63703),p=t(57054),g=t(88464),w=t(65113),h=t(38818),b=t(62708),P=t(4519),Z=t(81748),x=t(16980),y=t(2556),k=["onRequestClose"];n.default=function(e){var n=e.onRequestClose,j=(0,o.Z)(e,k),S=(0,Z.$G)().t,T=p.Z.useForm(),_=(0,r.Z)(T,1)[0],C=g.ZP.useMessage(),F=(0,r.Z)(C,2),E=F[0],L=F[1],M=w.Z.useModal(),V=(0,r.Z)(M,2),N=V[0],O=V[1],I=(0,v.Z)(!1),R=(0,r.Z)(I,2),A=R[0],q=R[1].toggle,K=(0,l.Dj)(),z=(0,s.h)("isManagerSupportingTOTP",(function(){return K.isManagerSupportingTOTP()}),{suspense:!0}).data,D=K.supports("2FA")&&z,Q=(0,u.jC)(),U=(0,r.Z)(Q,2),$=U[0],B=U[1],Y=(0,l.Kr)("initial-fetch"),W=(0,r.Z)(Y,2),G=W[0],H=W[1],J=(0,P.useDeferredValue)(G),X=(0,x.useLazyLoadQuery)(void 0!==a?a:a=t(57555),{email:$.email,isNotSupportTotp:!D},{fetchPolicy:"network-only",fetchKey:J}).user,ee=(0,s.Y)({mutationFn:function(){return K.remove_totp()}});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(d.Z,(0,i.Z)((0,i.Z)({},j),{},{okText:S("webui.menu.Update"),cancelText:S("webui.menu.Cancel"),onCancel:function(){n()},confirmLoading:$.isPendingMutation,onOk:function(){_.validateFields().then((function(e){B.updateFullName(e.full_name,{onSuccess:function(t){t!==$.full_name&&E.open({type:"success",content:S("webui.menu.FullnameUpdated")}),e.newPassword&&e.newPasswordConfirm&&e.originalPassword?B.updatePassword({new_password:e.newPassword,new_password2:e.newPasswordConfirm,old_password:e.originalPassword},{onSuccess:function(){E.open({type:"success",content:S("webui.menu.PasswordUpdated")}),n(!0)},onError:function(e){E.open({type:"error",content:e.message})}}):n(!0)},onError:function(e){E.open({type:"error",content:e.message})}})})).catch((function(){}))},centered:!0,destroyOnClose:!0,title:S("webui.menu.MyAccountInformation"),children:[(0,y.jsxs)(p.Z,{layout:"horizontal",labelCol:{span:8},form:_,initialValues:{full_name:$.full_name,totp_activated:(null===X||void 0===X?void 0:X.totp_activated)||!1},preserve:!1,children:[(0,y.jsx)(p.Z.Item,{name:"full_name",label:S("webui.menu.FullName"),rules:[function(){return{validator:function(e,n){return n&&n.length<65?Promise.resolve():Promise.reject(new Error(S("webui.menu.FullNameInvalid")))}}}],children:(0,y.jsx)(h.Z,{})}),(0,y.jsx)(p.Z.Item,{name:"originalPassword",label:S("webui.menu.OriginalPassword"),rules:[function(e){var n=e.getFieldValue;return{validator:function(e,t){return t||!n("newPassword")&&!n("newPasswordConfirm")?Promise.resolve():Promise.reject(new Error(S("webui.menu.InputOriginalPassword")))}}}],dependencies:["newPassword","newPasswordConfirm"],children:(0,y.jsx)(h.Z.Password,{})}),(0,y.jsx)(p.Z.Item,{name:"newPassword",label:S("webui.menu.NewPassword"),rules:[{pattern:c.passwordPattern,message:S("webui.menu.InvalidPasswordMessage")}],children:(0,y.jsx)(h.Z.Password,{})}),(0,y.jsx)(p.Z.Item,{name:"newPasswordConfirm",label:S("webui.menu.NewPasswordAgain"),dependencies:["newPassword"],rules:[function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("newPassword")!==t?Promise.reject(new Error(S("webui.menu.NewPasswordMismatch"))):Promise.resolve()}}}],children:(0,y.jsx)(h.Z.Password,{})}),!!D&&(0,y.jsx)(p.Z.Item,{name:"totp_activated",label:S("webui.menu.TotpActivated"),valuePropName:"checked",children:(0,y.jsx)(b.Z,{onChange:function(e){e?q():null!==X&&void 0!==X&&X.totp_activated&&(_.setFieldValue("totp_activated",!0),N.confirm({title:S("totp.TurnOffTotp"),icon:(0,y.jsx)(f.Z,{}),content:S("totp.ConfirmTotpRemovalBody"),okText:S("button.Yes"),okType:"danger",cancelText:S("button.No"),onOk:function(){ee.mutate(void 0,{onSuccess:function(){g.ZP.success(S("totp.RemoveTotpSetupCompleted")),H(),_.setFieldValue("totp_activated",!1)},onError:function(e){g.ZP.error(e.message)}})},onCancel:function(){_.setFieldValue("totp_activated",!0)}}))}})})]}),!!D&&(0,y.jsx)(m.Z,{userFrgmt:X,open:A,onRequestClose:function(e){e?H():_.setFieldValue("totp_activated",!1),q()}})]})),L,O]})}},78067:function(e,n,t){t.r(n);var a={argumentDefinitions:[{kind:"RootArgument",name:"isNotSupportTotp"}],kind:"Fragment",metadata:null,name:"TOTPActivateModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}],type:"User",abstractKey:null,hash:"f5da6b3094f7d70bef9373d9c907955c"};n.default=a},57555:function(e,n,t){t.r(n);var a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"}],n=[{kind:"Variable",name:"email",variableName:"email"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserProfileSettingModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,a,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserProfileSettingModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,a,{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null}]},params:{cacheID:"b0c9773ff4a3e759f0f9822463daa757",id:null,metadata:{},name:"UserProfileSettingModalQuery",operationKind:"query",text:"query UserProfileSettingModalQuery(\n  $email: String!\n  $isNotSupportTotp: Boolean!\n) {\n  user(email: $email) {\n    id\n    totp_activated @skipOnClient(if: $isNotSupportTotp)\n    ...TOTPActivateModalFragment\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();a.hash="c87e74dfaa01d51a1697e67df81e101b",n.default=a},1839:function(e,n,t){t.d(n,{T6:function(){return c},jC:function(){return m}});var a=t(1413),i=t(29439),r=t(87760),o=t(43255),l=t(50164),u=t(32048),s=t.n(u),d=t(4519),c=function(){var e=(0,r.Kr)("first"),n=(0,i.Z)(e,2),t=n[0],a=n[1],o=(0,r.Dj)();return[(0,l.h)({queryKey:["useResourceSlots",t],queryFn:function(){return o.get_resource_slots()},staleTime:0}).data,{refresh:function(){return a()}}]},m=function(){var e=(0,r.Dj)(),n=(0,d.useState)({full_name:e.full_name,email:e.email}),t=(0,i.Z)(n,2),u=t[0],c=t[1];(0,d.useEffect)((function(){var n=function(n){if(e.supports("change-user-name")){var t=n.detail;c((function(e){return(0,a.Z)((0,a.Z)({},e),{},{full_name:t})}))}};return document.addEventListener("current-user-info-changed",n),function(){document.removeEventListener("current-user-info-changed",n)}}),[e]);var m=(0,l.Y)({mutationFn:function(n){return e.update_full_name(n.email,n.full_name)}}),f=(0,l.Y)({mutationFn:function(n){return e.update_password(n.old_password,n.new_password,n.new_password2)}});return[(0,a.Z)((0,a.Z)({},u),{},{username:function(){var n=s().trim(u.full_name).length>0?u.full_name:u.email;if(e._config.maskUserInfo){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(n)?n.split("@")[0].length-2:n.length-2;n=(0,o.Cd)(n,"*",2,t)}return n}(),isPendingMutation:m.isLoading||f.isLoading}),{updateFullName:function(n,t){m.mutate({full_name:n,email:e.email},{onSuccess:function(){(null===t||void 0===t?void 0:t.onSuccess)&&t.onSuccess(n),document.dispatchEvent(new CustomEvent("current-user-info-changed",{detail:n})),c((function(e){return(0,a.Z)((0,a.Z)({},e),{},{full_name:n})}))},onError:function(e){(null===t||void 0===t?void 0:t.onError)&&t.onError(e)}})},updatePassword:function(e,n){f.mutate(e,{onSuccess:function(){(null===n||void 0===n?void 0:n.onSuccess)&&n.onSuccess(void 0)},onError:function(e){(null===n||void 0===n?void 0:n.onError)&&n.onError(e)}})}}]}},69080:function(e,n,t){t.d(n,{Z:function(){return u}});var a=t(87462),i=t(4519),r={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z",fill:e}},{tag:"path",attrs:{d:"M172.2 828.1h679.6L512 239.9 172.2 828.1zM560 720a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm-16-304v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8z",fill:n}},{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z",fill:e}}]}},name:"warning",theme:"twotone"},o=t(9491),l=function(e,n){return i.createElement(o.Z,(0,a.Z)({},e,{ref:n,icon:r}))};var u=i.forwardRef(l)}}]);
//# sourceMappingURL=525.582fc454.chunk.js.map