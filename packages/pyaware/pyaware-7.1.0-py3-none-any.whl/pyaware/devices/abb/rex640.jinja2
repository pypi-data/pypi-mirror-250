sources:
  poll:
    poll_interval: 5
    blocks:
      - [0, 51]
parameters:
  voltage-a-n:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 0
      idx: voltage-a-n
    triggers:
      process:
        send:
          - [time, 60]
  voltage-b-n:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 1
      idx: voltage-b-n
    triggers:
      process:
        send:
          - [time, 60]
  voltage-c-n:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 2
      idx: voltage-c-n
    triggers:
      process:
        send:
          - [time, 60]
  voltage-residual:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 3
      idx: voltage-residual
    triggers:
      process:
        send:
          - [time, 60]
  current-primary-phase-a:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 4
      idx: current-primary-phase-a
    triggers:
      process:
        send:
          - [time, 60]
  current-primary-phase-b:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 5
      idx: current-primary-phase-b
    triggers:
      process:
        send:
          - [time, 60]
  current-primary-phase-c:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 6
      idx: current-primary-phase-c
    triggers:
      process:
        send:
          - [time, 60]
  current-secondary-phase-a:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 7
      idx: current-secondary-phase-a
    triggers:
      process:
        send:
          - [time, 60]
  current-secondary-phase-b:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 8
      idx: current-secondary-phase-b
    triggers:
      process:
        send:
          - [time, 60]
  current-secondary-phase-c:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 9
      idx: current-secondary-phase-c
    triggers:
      process:
        send:
          - [time, 60]
  current-tertiary-phase-a:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 10
      idx: current-tertiary-phase-a
    triggers:
      process:
        send:
          - [time, 60]
  current-tertiary-phase-b:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 11
      idx: current-tertiary-phase-b
    triggers:
      process:
        send:
          - [time, 60]
  current-tertiary-phase-c:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xin }}
      address: 12
      idx: current-tertiary-phase-c
    triggers:
      process:
        send:
          - [time, 60]
  voltage-sequence-pos:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 13
      idx: voltage-sequence-pos
    triggers:
      process:
        send:
          - [time, 60]
  voltage-sequence-neg:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 14
      idx: voltage-sequence-neg
    triggers:
      process:
        send:
          - [time, 60]
  voltage-sequence-zero:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 15
      idx: voltage-sequence-zero
    triggers:
      process:
        send:
          - [time, 60]
  voltage-a-b:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 16
      idx: voltage-a-b
    triggers:
      process:
        send:
          - [time, 60]
  voltage-b-c:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 17
      idx: voltage-b-c
    triggers:
      process:
        send:
          - [time, 60]
  voltage-c-a:
    source: poll
    form:
      type: ParamMaskScale
      scale: {{ xun }}
      address: 18
      idx: voltage-c-a
    triggers:
      process:
        send:
          - [time, 60]
  power-active:
    source: poll
    form:
      type: ParamCType
      address: 19
      idx: power-active
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  power-reactive:
    source: poll
    form:
      type: ParamCType
      address: 21
      idx: power-reactive
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  power-apparent:
    source: poll
    form:
      type: ParamCType
      address: 23
      idx: power-apparent
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  power-factor:
    source: poll
    form:
      type: ParamCType
      address: 25
      idx: power-factor
      data_type: short
    triggers:
      process:
        send:
          - [time, 60]
  energy-active-neg:
    source: poll
    form:
      type: ParamCType
      address: 26
      idx: energy-active-neg
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  energy-reactive-neg:
    source: poll
    form:
      type: ParamCType
      address: 28
      idx: energy-reactive-neg
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  energy-active-pos:
    source: poll
    form:
      type: ParamCType
      address: 30
      idx: energy-active-pos
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  energy-reactive-pos:
    source: poll
    form:
      type: ParamCType
      address: 32
      idx: energy-reactive-pos
      data_type: int
    triggers:
      process:
        send:
          - [time, 60]
  num-cb-operations:
    source: poll
    form:
      type: Param
      address: 34
      idx: num-cb-operations
    triggers:
      process:
        send:
          - [time, 60]

  protection-trip:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: protection-trip
      bit: 0
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  over-current-primary:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: over-current-primary
      bit: 2
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  short-circuit-primary:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: short-circuit-primary
      bit: 4
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  over-current-secondary:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: over-current-secondary
      bit: 6
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  short-circuit-secondary:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: short-circuit-secondary
      bit: 8
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  over-current-tertiary:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: over-current-tertiary
      bit: 10
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  short-circuit-tertiary:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: short-circuit-tertiary
      bit: 12
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  differential-trip:
    source: poll
    form:
      type: ParamBit
      address: 47
      idx: differential-trip
      bit: 14
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  arc-flash-trip-1:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: arc-flash-trip-1
      bit: 0
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  arc-flash-trip-2:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: arc-flash-trip-2
      bit: 2
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  arc-flash-trip-3:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: arc-flash-trip-3
      bit: 4
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  cb-open:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: cb-open
      bit: 6
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  cb-closed:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: cb-closed
      bit: 7
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  cb-fault:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: cb-fault
      bit: 8
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  isolator-open:
    source: poll
    form:
      type: ParamBit
      address: 48
      idx: isolator-open
      bit: 9
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  external-trips:
    source: poll
    form:
      type: Param
      address: 49
      idx: external-trips
    children:
      external-trip-1:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-1
          bit: 0
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-2:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-2
          bit: 1
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-3:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-3
          bit: 2
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-4:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-4
          bit: 3
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-5:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-5
          bit: 4
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-6:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-6
          bit: 5
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-7:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-7
          bit: 6
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-8:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-8
          bit: 7
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-9:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-9
          bit: 8
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-10:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-10
          bit: 9
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-11:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-11
          bit: 10
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-12:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-12
          bit: 11
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-13:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-13
          bit: 12
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-14:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-14
          bit: 13
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-15:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-15
          bit: 14
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-trip-16:
        source: poll
        form:
          type: ParamBit
          address: 49
          idx: external-trip-16
          bit: 15
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
  external-alarms:
    source: poll
    form:
      type: Param
      address: 50
      idx: external-alarms
    children:
      external-alarm-1:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-1
          bit: 0
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-2:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-2
          bit: 1
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-3:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-3
          bit: 2
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-4:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-4
          bit: 3
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-5:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-5
          bit: 4
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-6:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-6
          bit: 5
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-7:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-7
          bit: 6
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
      external-alarm-8:
        source: poll
        form:
          type: ParamBit
          address: 50
          idx: external-alarm-8
          bit: 7
        triggers:
          process:
            send:
              - [state]
              - [time, 86400]
