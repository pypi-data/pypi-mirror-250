communication:
  - type: modbus_tcp2
    name: ethernet
    params:
      host:
        type: value
        value: 127.0.0.1
      auto_reconnect_after:
        type: value
        value: 5
  - type: modbus_device
    name: test_gcp_device_id
    version: 1
    params:
      client: {type: ref_comms, value: ethernet}
      config: {type: ref_path, value: config/test_dev.yaml}
      device_id: {type: value, value: test_gcp_device_id}
      unit: {type: value, value: 1}
      poll_intervals: {type: value, value: {poll: 1}}
