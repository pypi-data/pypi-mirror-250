#!/usr/bin/env python
from datetime import datetime
import numpy as np
ensemble_members = ["mem{0:d}".format(mem) for mem in range(1, 11)]
scratch_path = "/glade/p/work/dgagne/"
home_path = "/glade/u/home/dgagne/"
config = dict(ensemble_name="NCAR",
              ensemble_members=ensemble_members,
              start_date=datetime(2016, 5, 2),
              end_date=datetime(2016, 8, 31),
              start_hour=13,
              end_hour=36,
              window_sizes=[1, 3, 24],
              time_skip=1,
              model_names=dict(dist=["Random Forest", "Elastic Net", "Random Forest CV"],
                               condition=["Random Forest"]),
              model_types=["dist", "condition"],
              size_thresholds=[25, 50],
              forecast_json_path=scratch_path + "track_forecasts_ncar_2015_json/",
              track_data_csv_path=scratch_path + "track_data_ncar_2015_csv/",
              forecast_sample_path=scratch_path + "track_samples_ncar_2015/",
              mrms_path=scratch_path + "mrms_ncar/",
              mrms_variable="MESH_Max_60min_00.50",
              obs_mask=True,
              mask_variable="RadarQualityIndex_00.00",
              forecast_thresholds=np.concatenate(([0, 0.01, 0.02], np.arange(0.05, 1.1, 0.05))),
              dilation_radius=14,
              forecast_bins={"size":np.arange(10, 105, 5),
                             "translation-x":np.arange(-240000, 264000, 24000),
                             "translation-y":np.arange(-240000, 264000, 24000),
                             "start-time":np.arange(-6, 7, 1)
                             },
              out_path=scratch_path + "evaluation_data_ncar_2015/",
              obj_scores_file="object_scores_ncar2015.csv",
              grid_scores_file="grid_scores_ncar2015.csv",
              obs_thresholds=[25, 50, 75],
              ensemble_variables=["HAIL_MAX2D", "HAIL_MAXK1", "UP_HELI_MAX", "GRPL_MAX", "HAILCAST_DIAM_MEAN",
                                  "W_UP_MAX", "REFD_MAX"],
              neighbor_thresholds={"dist": [5, 20, 25, 30, 35, 40, 45, 50, 75],
                                   "HAIL_MAX2D": [5, 20, 25, 30, 35, 40, 45, 50, 75],
                                   "HAIL_MAXK1": [5, 20, 25, 30, 35, 40, 45, 50, 75],
                                   "HAILCAST_DIAM_MEAN": [5, 20, 25, 30, 35, 40, 45, 50, 75],
                                   "UP_HELI_MAX": [5, 25, 50, 75, 100, 125, 150, 175, 200],
                                   "GRPL_MAX": [5, 10, 15, 20, 25, 30, 35, 40, 45, 50],
                                   "W_UP_MAX": [2, 5, 10, 20, 30, 40],
                                   "REFD_MAX": [50, 55, 60, 65, 70]},
              neighbor_path="/glade/scratch/dgagne/ensemble_consensus_ncar_2016/",
              neighbor_score_path=scratch_path + "neighbor_scores_ncar_2016/ncar_2016_neighbor_series_",
              neighbor_radii=[14, 28],
              smoothing_radii=[5,20],
              neighbor_radius=42,
              neighbor_sigma=2,
              ml_grid_path="/glade/p/nmmm0001/sobash/HAIL/hail_forecasts_grib2_ncar_2016/",
              coarse_neighbor_out_path= scratch_path + "ncar_coarse_neighbor_eval_2016_s_2/",
              map_file = home_path + "hagelslag/mapfiles/ncar_ensemble_map_2015.txt",
              us_mask_file=home_path + "hagelslag/mapfiles/ncar_2015_us_mask.nc",
              coordinate_file=scratch_path + "ncar_map_grids/rt2015_grid.nc",
              lon_bounds=[-106,-80],
              lat_bounds=[26,48],
              stride=14,
              ensemble_path="/glade/scratch/dgagne/RT2016/",
              single_step=False,
              )
