<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Populse_MIA’s Data Viewer &#8212; populse_mia 2.5.2-dev+5f005d4e documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=f63d8bfa" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku.css?v=e491ac2d" />
    <script src="../_static/documentation_options.js?v=52014ebe"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>populse_mia 2.5.2-dev+5f005d4e documentation</span></a></h1>
        <h2 class="heading"><span>Populse_MIA’s Data Viewer</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="toctree-wrapper compound">
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="../index.html">Home</a></p></td>
<td><p><a class="reference external" href="./documentation.html">Documentation</a></p></td>
<td><p><a class="reference external" href="../installation/installation.html">Installation</a></p></td>
<td><p><a class="reference external" href="https://github.com/populse/populse_mia">GitHub</a></p></td>
</tr>
</tbody>
</table>
<section id="populse-mia-s-data-viewer">
<h1>Populse_MIA’s Data Viewer<a class="headerlink" href="#populse-mia-s-data-viewer" title="Link to this heading">¶</a></h1>
<p>This page is a user guide for Mia’s Data Viewer, a tool to visualize medical images.</p>
<section id="tab-presentation">
<h2>Tab presentation<a class="headerlink" href="#tab-presentation" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>The Data Viewer is composed of seven main elements:</dt><dd><ul class="simple">
<li><p>A selector containing the available viewers</p></li>
<li><p>A toolbar containing the main tools to visualize and interact with the images</p></li>
<li><p>A main window to display the objects</p></li>
<li><p>An object box, containing the loaded objects</p></li>
<li><p>A volume box, containing the displayed volumes</p></li>
<li><p>A coordinates box, giving information about space and time coordinates</p></li>
<li><p>Other accessible tools</p></li>
</ul>
</dd>
</dl>
<p>Here is a global overview of the Data Viewer tab with some indications:</p>
<img alt="../_images/data_viewer_bubbles.png" class="align-center" id="data-viewer-tab" src="../_images/data_viewer_bubbles.png" />
</section>
<section id="the-selector">
<h2><strong>The selector</strong><a class="headerlink" href="#the-selector" title="Link to this heading">¶</a></h2>
<img alt="../_images/selector.png" class="align-left" id="selector" src="../_images/selector.png" />
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>A drop-down menu is displayed next to the <cite>use viewer:</cite> label (top left) and contains available viewers.
For now, Mia provides two viewers, anatomist and anatomist_2. Both viewers are based on tools provided by the API of Anatomist,
available <a class="reference external" href="https://brainvisa.info/anatomist-5.0/user_doc/anatomist_manual1.html#introduction">here</a>.</p>
<p>Users own viewers can be simply added to the <a class="reference external" href="https://github.com/populse/populse_mia/tree/master/populse_mia/user_interface/data_viewer">data_viewer folder</a>. The viewer will then be automatically detected and added to the drop-down menu.</p>
<p>In the following section we will focuse on anatomist_2 viewer which is an improved version of anatomist simple viewer.</p>
</section>
<section id="the-toolbar">
<h2><strong>The toolbar</strong><a class="headerlink" href="#the-toolbar" title="Link to this heading">¶</a></h2>
<p>The toolbar contains several actions to interact with the objects (images).</p>
<section id="open-file">
<h3>Open file<a class="headerlink" href="#open-file" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/folder.png" id="id1"><img alt="../_images/folder.png" class="align-left" id="id1" src="../_images/folder.png" style="width: 20.48px; height: 20.48px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Open files from desktop directory. Files must have an image format (Dicom, NifTi, Bids …). All loaded objects will be displayed in the object box entitled “Objects”.
Add a tag for all the documents in the database, specifying its name (mandatory), its default value, a short description, its unit and its type.</p>
<a class="reference internal image-reference" href="../_images/file_open.png" id="filefromdd"><img alt="../_images/file_open.png" class="align-center" id="filefromdd" src="../_images/file_open.png" style="width: 496.8px; height: 356.8px;" /></a>
</section>
<section id="filter-object-from-data-browser">
<h3>Filter object from Data Browser<a class="headerlink" href="#filter-object-from-data-browser" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/database.png" id="database"><img alt="../_images/database.png" class="align-left" id="database" src="../_images/database.png" style="width: 19.6px; height: 19.6px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Transfer the objects from the Data Browser to the Data Viewer. Objects will appear in the pop-up shown below. A quick search bar is implemented on top, in order to filter the objects quickly by name.
If multiple objects are selected, all will be loaded in the object box but only the first of the list will be displayed in the main window.
Objects cannot be imported twice.</p>
<a class="reference internal image-reference" href="../_images/Filter_documents.png" id="filter-file"><img alt="../_images/Filter_documents.png" class="align-center" id="filter-file" src="../_images/Filter_documents.png" style="width: 801.5px; height: 373.09999999999997px;" /></a>
</section>
<section id="settings">
<h3>Settings<a class="headerlink" href="#settings" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/settings.png" id="id2"><img alt="../_images/settings.png" class="align-left" id="id2" src="../_images/settings.png" style="width: 20.48px; height: 20.48px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="simple">
<dt>Preferences concerning the Data Viewer. Parameters that can be changed are:</dt><dd><ul class="simple">
<li><p>Automatic time image display which corresponds to the frame rate for automatic running of functional images (see <a class="reference internal" href="#play-button-label"><span class="std std-ref">Play button</span></a>)</p></li>
<li><p>Configuration : neurological or radiological orientation</p></li>
<li><p>Referential (World Coordinates will display images  in a conventional way, corresponding most of the time to scanner coordinates)</p></li>
</ul>
</dd>
</dl>
<p>Objects will be reloaded in the case where configuration or referential has changed.</p>
<a class="reference internal image-reference" href="../_images/preferences.png" id="preferences"><img alt="../_images/preferences.png" class="align-center" id="preferences" src="../_images/preferences.png" style="width: 540.0px; height: 367.5px;" /></a>
</section>
<section id="plus-button">
<h3>Plus button<a class="headerlink" href="#plus-button" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/plus.png" id="id3"><img alt="../_images/plus.png" class="align-left" id="id3" src="../_images/plus.png" style="width: 15.36px; height: 15.36px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Displays selected object of the object box in the main window. If the object is already displayed, button will be disabled.</p>
</section>
<section id="minus-button">
<h3>Minus button<a class="headerlink" href="#minus-button" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/signe-moins.png" id="id4"><img alt="../_images/signe-moins.png" class="align-left" id="id4" src="../_images/signe-moins.png" style="width: 15.36px; height: 15.36px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Removes selected object of the object box from the main window. If the object is not displayed, button will be disabled. Objects will be removed from main window but won’t disappear from the object box.</p>
</section>
<section id="delete-button">
<h3>Delete button<a class="headerlink" href="#delete-button" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/delete.png" id="id5"><img alt="../_images/delete.png" class="align-left" id="id5" src="../_images/delete.png" style="width: 15.36px; height: 15.36px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Deletes selected object from Data Viewer tab. Objects will disappear from the object box and will be removed from main window but they will still be available in the Data Browser and thus from the filter action.</p>
</section>
<section id="capture-button">
<h3>Capture button<a class="headerlink" href="#capture-button" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/camera.png" id="camera-button"><img alt="../_images/camera.png" class="align-left" id="camera-button" src="../_images/camera.png" style="width: 15.36px; height: 15.36px;" /></a>
<p>Not available yet.</p>
</section>
<section id="view-buttons">
<h3>View buttons<a class="headerlink" href="#view-buttons" title="Link to this heading">¶</a></h3>
<p>Manage the display of the views in the main window (more details in <a class="reference internal" href="#main-window-label"><span class="std std-ref">The main window</span></a> section). If no object is displayed, the views will appear empty.</p>
<a class="reference internal image-reference" href="../_images/views.png" id="views"><img alt="../_images/views.png" class="align-center" id="views" src="../_images/views.png" style="width: 310.09999999999997px; height: 125.99999999999999px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../_images/ax-01.png" id="axial-view"><img alt="../_images/ax-01.png" class="align-left" id="axial-view" src="../_images/ax-01.png" style="width: 25.59px; height: 25.59px;" /></a>
<p><strong>Axial button</strong></p>
<p>If button is checked, axial view is added to the main window</p>
<a class="reference internal image-reference" href="../_images/sag-01.png" id="sagittal-view"><img alt="../_images/sag-01.png" class="align-left" id="sagittal-view" src="../_images/sag-01.png" style="width: 25.59px; height: 25.59px;" /></a>
<p><strong>Sagittal button</strong></p>
<p>If button is checked, sagittal view is added to the main window</p>
<a class="reference internal image-reference" href="../_images/coro-01.png" id="coronal-view"><img alt="../_images/coro-01.png" class="align-left" id="coronal-view" src="../_images/coro-01.png" style="width: 25.59px; height: 25.59px;" /></a>
<p><strong>Coronal button</strong></p>
<p>If button is checked, sagittal view is added to the main window</p>
<a class="reference internal image-reference" href="../_images/dimension-01.png" id="d-view"><img alt="../_images/dimension-01.png" class="align-left" id="d-view" src="../_images/dimension-01.png" style="width: 25.59px; height: 25.59px;" /></a>
<p><strong>3D button</strong></p>
<p>If button is checked, sagittal view is added to the main window</p>
<p>Once an object has been loaded, at least one view will always be displayed.
Here are two objects displayed in two views:</p>
<a class="reference internal image-reference" href="../_images/2_views.png" id="id6"><img alt="../_images/2_views.png" class="align-center" id="id6" src="../_images/2_views.png" style="width: 1256.5px; height: 535.5px;" /></a>
</section>
<section id="palettes">
<h3>Palettes<a class="headerlink" href="#palettes" title="Link to this heading">¶</a></h3>
<p>A drop-down menu is available showing several default color palettes. If an object is selected in the object box, its color palette can be changed in this menu. More palettes are available by right clicking on an object (described below in <a class="reference internal" href="#object-label"><span class="std std-ref">The object box</span></a> section).</p>
<a class="reference internal image-reference" href="../_images/palette.png" id="color-palette"><img alt="../_images/palette.png" class="align-center" id="color-palette" src="../_images/palette.png" style="width: 335.29999999999995px; height: 39.199999999999996px;" /></a>
</section>
<section id="opacity">
<h3>Opacity<a class="headerlink" href="#opacity" title="Link to this heading">¶</a></h3>
<p>In order to fully understand how to use this tool some basic notions of Anatomist renderings must be described.</p>
<a class="reference internal image-reference" href="../_images/opacity.png" id="id7"><img alt="../_images/opacity.png" class="align-center" id="id7" src="../_images/opacity.png" style="width: 627.1999999999999px; height: 156.1px;" /></a>
<p>To make this more understandable, we will distinguish two cases:</p>
<ul>
<li><p><strong>Only one object is displayed</strong></p>
<p>The opacity slider will change the opacity of the selected object. From left to right the cursor sets opacity from 0 to 100%. If no object is selected, the slider has no effect.</p>
</li>
<li><p><strong>Multiple objects are displayed</strong></p>
<p>Mia’s Data Viewer uses several Anatomist functionalities and when multiple objects are displayed, a fusion of images must be made in order to improve image rendering. Thus, we can’t directly modify the opacity of an object. However, the mixing rate of the objects can be changed. Two examples are described below but the principle is the same and thus it remains valid for more than three objects.</p>
<ul>
<li><p><strong>Two objects A and B are displayed</strong></p>
<blockquote>
<div><p>Both objects will be displayed in the main window with respective chosen color palettes and what will in fact appear, is a fusion of both objects. Now, if A is selected and the opacity slider’s position is changed, it will modify the percentage of A in the fusion A-B on the area where both images overlap.
Set the position of the slider to the middle will correspond to 50% of A and 50% of B, set the position to 3/4, will correspond to 75% of A and 25% of B. If the cursor is set to 100%, B will completely disappear.</p>
</div></blockquote>
</li>
<li><p><strong>Three objects A, B, C are displayed</strong></p>
<blockquote>
<div><p>The principle is the same, the resulting image is a fusion of all three objects. Now let’s see how the opacity slider works here.
C is selected: changing the slider’s position will change the percentage of C in the B-C mix (on the overlapping area). Let’s imagine it’s set to 100%. As seen before, B will completely disappear.
Now, B is selected: In theory, what would be expected is that setting the slider’s position to 100% would set B to 100%. Nevertheless, by selecting B, we are modifying the mixing rate of the B-C fusion with A. Thus, setting the cursor’s position to 100% will set the mix to 100% and A to 0. But as a display percentage for B in the B-C mix was chosen before (0%), B won’t appear in the main window.</p>
<p>The interesting thing about this method is that changing the mixing rates instead of simply choosing the opacity gives much more possibilities. On the other hand, changing the mixing rates is not independent from one object to another.
Some more specific documentation is available on the <a class="reference external" href="https://brainvisa.info/anatomist/user_doc/anatomist_manual2.html#more-on-colors-and-palettes">Brainvisa-Anatomist website</a>.</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
</section>
<section id="play-button">
<span id="play-button-label"></span><h3>Play button<a class="headerlink" href="#play-button" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/play.png" id="id8"><img alt="../_images/play.png" class="align-left" id="id8" src="../_images/play.png" style="width: 413.0px; height: 155.39999999999998px;" /></a>
<p>Allows automatic scrolling of dynamics for functional MRI data. The frame rate can be changed in the settings of the viewer. Time coordinates will appear in the coordinates box below. In order to start at a particular moment, the time moment in seconds can be entered manually in the coordinates box and then the play button can be pressed. Time cursors at the right of each view are not synchronized if used alone.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="the-main-window">
<span id="main-window-label"></span><h2><strong>The main window</strong><a class="headerlink" href="#the-main-window" title="Link to this heading">¶</a></h2>
<p>The main window contains the views of the displayed objects. The display is in line and default one shows axial, sagittal and coronal view. Depending on which buttons are checked (described above), one to four views can be displayed. For anatomical images, a cursor will appear on the right of each view, enabling scrolling through the image set. For functional images, a second cursor will appear on the right of the first one the enable scrolling through time.</p>
<dl class="simple">
<dt>Moreover, several controls are enabled in the views:</dt><dd><ul class="simple">
<li><p>Left mouse button manages the displacement of the red cross  which allows moving in 3D and thus changes the other views</p></li>
<li><p>Middle mouse button scrolling inside a view manages the zoom</p></li>
<li><p>CTRL + middle mouse button click manages intrinsic displacement</p></li>
<li><p>Right mouse button manages the thresholding (horizontal movement changes the  minimum threshold and vertical displacement changes the maximum threshold)</p></li>
</ul>
</dd>
</dl>
</section>
<section id="the-object-box">
<span id="object-label"></span><h2><strong>The object box</strong><a class="headerlink" href="#the-object-box" title="Link to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../_images/Objects.png" id="object-box"><img alt="../_images/Objects.png" class="align-center" id="object-box" src="../_images/Objects.png" style="width: 825.3px; height: 168.0px;" /></a>
<p>The object box contains all the loaded objects (from computer file browser or from Data Browser). The objects are not necessarily displayed. Displayed objects will appear on green background and with a check icon on the left. A selected object appears on blue background.
Plus, minus and delete button manage the object display (described above).
Right click on an object enables several options to change object display properties. For example, more color palettes are available than in the drop-down menu of the toolbar. New palettes will be automatically added to the drop-down menu. Material settings such as object properties of referential settings can also be accessed through this menu. For more information on object display properties, please consult the <a class="reference external" href="https://brainvisa.info/anatomist-5.0/user_doc/anatomist_manual1.html#objects-menu">documentation directly on the Anatomist website</a>.</p>
</section>
<section id="the-volume-box">
<h2><strong>The volume box</strong><a class="headerlink" href="#the-volume-box" title="Link to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../_images/Volumes.png" id="volumes-box"><img alt="../_images/Volumes.png" class="align-center" id="volumes-box" src="../_images/Volumes.png" style="width: 338.09999999999997px; height: 203.0px;" /></a>
<p>The Volume Box displays the intensity values at the current location (defined as the centre of the red cross in three dimensions) for each visible image (object).</p>
</section>
<section id="the-coordinates-box">
<h2><strong>The coordinates box</strong><a class="headerlink" href="#the-coordinates-box" title="Link to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../_images/coordinates.png" id="coordinates-box"><img alt="../_images/coordinates.png" class="align-center" id="coordinates-box" src="../_images/coordinates.png" style="width: 338.09999999999997px; height: 203.0px;" /></a>
<p>Display of space and time coordinates. Can be entered manually. Time values will only affect functional images and they are linked to the time cursor on the right of each view. Space coordinates will affect the red cross inside each view and image scrolling on space cursors (also on the right of each view).</p>
<a class="reference internal image-reference" href="../_images/Cursors.png" id="cursors-image"><img alt="../_images/Cursors.png" class="align-center" id="cursors-image" src="../_images/Cursors.png" style="width: 289.5px; height: 359.0px;" /></a>
</section>
<section id="other-accessible-tools">
<h2><strong>Other accessible tools</strong><a class="headerlink" href="#other-accessible-tools" title="Link to this heading">¶</a></h2>
<p>Some other (more specific) tools are available thanks to right click on an object. Specific settings on file, color, referential and object properties are available. Moreover, the feature “Open in new view” enables opening the selected object in a new window. The new window (shown below) will stay in front of Mia’s main window. All views (Axial, Sagittal, Coronal and 3D views) are available, but one at a time. No overlays are enabled but controls work just like in the main window.</p>
<a class="reference internal image-reference" href="../_images/new_view.png" id="new-view-popup"><img alt="../_images/new_view.png" class="align-center" id="new-view-popup" src="../_images/new_view.png" style="width: 407.4px; height: 429.9px;" /></a>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2022, populse.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>