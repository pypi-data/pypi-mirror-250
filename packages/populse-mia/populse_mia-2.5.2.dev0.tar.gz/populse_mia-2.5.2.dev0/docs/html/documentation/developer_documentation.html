<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How to contribute to the populse_mia package &#8212; populse_mia 2.5.2-dev+5f005d4e documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=f63d8bfa" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku.css?v=e491ac2d" />
    <script src="../_static/documentation_options.js?v=52014ebe"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>populse_mia 2.5.2-dev+5f005d4e documentation</span></a></h1>
        <h2 class="heading"><span>How to contribute to the populse_mia package</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="toctree-wrapper compound">
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="../index.html">Home</a></p></td>
<td><p><a class="reference external" href="./documentation.html">Documentation</a></p></td>
<td><p><a class="reference external" href="../installation/installation.html">Installation</a></p></td>
<td><p><a class="reference external" href="https://github.com/populse/populse_mia">GitHub</a></p></td>
</tr>
</tbody>
</table>
<section id="how-to-contribute-to-the-populse-mia-package">
<h1>How to contribute to the populse_mia package<a class="headerlink" href="#how-to-contribute-to-the-populse-mia-package" title="Link to this heading">¬∂</a></h1>
<section id="non-populse-member">
<h2>Non-Populse member<a class="headerlink" href="#non-populse-member" title="Link to this heading">¬∂</a></h2>
<ul>
<li><p><a class="reference external" href="https://help.github.com/articles/fork-a-repo/">Fork</a> Populse_mia on GitHub and clone your Populse_mia repository</p></li>
<li><p>Get source code from Github using HTTPS or SSH. Replace [populse_install_dir] with a directory of your choice</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">lfs</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">your_user_name</span><span class="o">/</span><span class="n">populse_mia</span><span class="o">.</span><span class="n">git</span> <span class="p">[</span><span class="n">mia_install_dir</span><span class="p">]</span><span class="o">/</span><span class="n">populse_mia</span> <span class="c1"># using HTTPS</span>
<span class="n">git</span> <span class="n">lfs</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">your_user_name</span><span class="o">/</span><span class="n">populse_mia</span><span class="o">.</span><span class="n">git</span> <span class="p">[</span><span class="n">mia_install_dir</span><span class="p">]</span><span class="o">/</span><span class="n">populse_mia</span> <span class="c1"># using SSH</span>
</pre></div>
</div>
</li>
<li><p>If you have made some changes to improve the code and want to share them, feel free to open pull requests:</p>
<blockquote>
<div><ul class="simple">
<li><p>Commit and push your changes to your personal repository (<a class="reference external" href="https://stackoverflow.com/questions/6143285/git-add-vs-push-vs-commit)">git add ‚Ä¶, git commit -m ‚Äúa shor message‚Äù, git push</a>)</p></li>
<li><p>Open a <a class="reference external" href="https://help.github.com/articles/creating-a-pull-request/">pull request</a> on GitHub</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="populse-member">
<h2>Populse member<a class="headerlink" href="#populse-member" title="Link to this heading">¬∂</a></h2>
<ul>
<li><p><a class="reference external" href="https://populse.github.io/populse_mia/html/installation/developer_installation.html">Make a populse_mia‚Äôs developer installation</a></p></li>
<li><p>Make sure to work on your own branch</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">your_branch_name</span> <span class="c1"># creates your own branch locally</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">your_branch_name</span> <span class="c1"># creates your own branch remotely</span>
</pre></div>
</div>
</li>
<li><p>When you‚Äôve completed your changes, merge your branch with the master branch then push to GitHub (Beware! The master branch must always remain as clean as possible. Make sure your changes bring an improvement without regression)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">your_branch_name</span>
<span class="n">git</span> <span class="n">push</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="populse-mia-s-developer-documentation">
<h1>Populse_mia‚Äôs developer documentation<a class="headerlink" href="#populse-mia-s-developer-documentation" title="Link to this heading">¬∂</a></h1>
<p>The <a class="reference external" href="../populse_mia.html">description of populse_mia modules</a> is updated as often as possible.</p>
<section id="conventions">
<h2>Conventions<a class="headerlink" href="#conventions" title="Link to this heading">¬∂</a></h2>
<p>We follow as much as possible the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP 8</a> for coding conventions and the <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a> for docstring conventions. We are encouraging people that want to colabore to the populse project to follow these guidelines.</p>
</section>
<section id="pre-commit">
<h2>Pre-commit<a class="headerlink" href="#pre-commit" title="Link to this heading">¬∂</a></h2>
<ul>
<li><p>Description</p>
<p>The populse_mia software calls a set of <a class="reference external" href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks#_git_hooks">git hooks</a> before each piece of code is commited. This feature is accomplished with the <a class="reference external" href="https://pre-commit.com/">pre-commit</a> package and helps to better format the code, include documentation and much more.</p>
</li>
<li><p>Installation</p>
<p>Start by installing the package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">pre</span><span class="o">-</span><span class="n">commit</span>
</pre></div>
</div>
<p>Before commiting for the first time and after every change in the .pre-commit-config.yaml file, launch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p>Usage</p>
<ul>
<li><p>If a commit passes the pre-commit feature, it can be then normally pushed to the origin.</p></li>
<li><p>An example of a passing commit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># INPUT</span>
<span class="n">git</span> <span class="n">add</span> <span class="n">user_interface</span><span class="o">/</span><span class="n">data_viewer</span><span class="o">/</span><span class="n">data_viewer</span><span class="o">.</span><span class="n">py</span>
<span class="n">git</span> <span class="n">commit</span>

<span class="c1"># OUTPUT</span>
<span class="n">check</span> <span class="n">python</span> <span class="n">ast</span><span class="o">.........................................................</span><span class="n">Passed</span>
<span class="n">check</span> <span class="n">json</span><span class="o">...........................................</span><span class="p">(</span><span class="n">no</span> <span class="n">files</span> <span class="n">to</span> <span class="n">check</span><span class="p">)</span><span class="n">Skipped</span>
<span class="n">black</span><span class="o">....................................................................</span><span class="n">Passed</span>
<span class="p">[</span><span class="n">pre_commit</span> <span class="n">c10882d05</span><span class="p">]</span> <span class="n">Add</span> <span class="n">features</span> <span class="n">to</span> <span class="n">data_viewer</span><span class="o">.</span>
  <span class="mi">1</span> <span class="n">file</span> <span class="n">changed</span><span class="p">,</span> <span class="mi">29</span> <span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span> <span class="mi">24</span> <span class="n">deletions</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>On the other hand, if a commit fails the pre-commit (eg. for containing a file not formatted according to <a class="reference external" href="https://peps.python.org/pep-0008/">PEP8</a>), failing file will be fixed and recreated as an unstaged file. Those files should be then added and commited again. In the case where the pre-commit feature cannot fix the error by itself, the developer should modify the accordingly and recommit the changes.</p></li>
<li><p>An example of a failing commit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># INPUT
git add user_interface/data_viewer/data_viewer.py
git commit

# OUTPUT
check python ast.........................................................Passed
check json...........................................(no files to check)Skipped
black....................................................................Failed
- hook id: black
- files were modified by this hook

reformatted /populse_mia/user_interface/data_viewer/data_viewer.py

All done! ‚ú® üç∞ ‚ú®
1 file reformatted.

# INPUT
git status

# OUTPUT
On branch pre_commit
Your branch is up to date with &#39;origin/pre_commit&#39;.

Changes to be committed:
  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)
              modified:   user_interface/data_viewer/data_viewer.py

Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
        modified:   user_interface/data_viewer/data_viewer.py

# INPUT
git add user_interface/data_viewer/data_viewer.py
git commit

# OUTPUT
check python ast.........................................................Passed
check json...........................................(no files to check)Skipped
black....................................................................Passed
[pre_commit c10882d05] Add features to data_viewer.
 1 file changed, 29 insertions(+), 24 deletions(-)
</pre></div>
</div>
</li>
<li><p>The pre-commit feature is set to format python with the <a class="reference external" href="https://peps.python.org/pep-0008/">PEP8</a> compliant code formatter <a class="reference external" href="https://github.com/psf/black">black</a>. If the auto-formatting feature is not convenient in a particular piece of code, the auto-formatter can be turned of by writing #fmt: on/off:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># fmt: off</span>

<span class="c1"># The piece of code that will not be auto-formatted</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>

<span class="c1"># fmt: on</span>

<span class="c1"># The piece of code that will be auto-formatted</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2022, populse.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>