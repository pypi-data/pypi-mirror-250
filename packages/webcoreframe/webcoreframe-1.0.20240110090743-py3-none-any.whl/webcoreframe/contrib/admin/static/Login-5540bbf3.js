import{_ as p,A as r,S as i,u as m,E as c,r as u,o as f,c as V,a as l,b as d,w as g,d as v}from"./index-1ad0aa26.js";const y={data(){return{username:"",password:"",verify_code:"",code_token:"",code:""}},created(){this.GetVerifyCode()},components(){},methods:{GetVerifyCode:function(){r.get(i.verifycode).then(e=>{e.data.code===200&&(this.code=`data:image/png;base64,${e.data.data.code}`,this.code_token=e.data.data.code_token)})},LoginHandler:function(){r.post(i.userlogin,{"sign-in":!0,code_token:this.code_token,code:this.verify_code,username:this.username,password:this.password}).then(e=>{e.data.code===200?(m.SetUserToken(e.data.data),c({message:"登录成功，正在跳转首页，请稍后...",type:"success"}),this.$router.push({name:"index"})):c.error(e.data.data)})}}},h={class:"login"},k={class:"login-box"},C={class:"verify-code-class"},w=["src"];function x(e,o,b,G,t,a){const n=u("el-input"),_=u("el-button");return f(),V("div",h,[l("div",k,[d(n,{modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=s=>t.username=s),placeholder:"输入用户名"},null,8,["modelValue"]),d(n,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=s=>t.password=s),type:"password",placeholder:"输入密码"},null,8,["modelValue"]),l("div",C,[d(n,{modelValue:t.verify_code,"onUpdate:modelValue":o[2]||(o[2]=s=>t.verify_code=s),placeholder:"验证码"},null,8,["modelValue"]),l("img",{src:t.code,alt:"图片验证码",onClick:o[3]||(o[3]=(...s)=>a.GetVerifyCode&&a.GetVerifyCode(...s))},null,8,w)]),d(_,{onClick:a.LoginHandler},{default:g(()=>[v("登 录")]),_:1},8,["onClick"])])])}const U=p(y,[["render",x],["__scopeId","data-v-dc8ea26d"]]);export{U as default};
