(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9015],{65557:function(e,n,t){"use strict";var i=t(21831),o=t(75582),r=t(82684),l=t(49555);n.Z=function(e){var n=e.children,t=e.uuid,c=e.uuids,a=void 0===c?[]:c,s=(0,l.j)("apiReloads"),u=(0,o.Z)(s,1)[0],d=(0,i.Z)(a);t&&d.push(t);var f=d.map((function(e){return String(u[e])||"-"})).join("_");return r.cloneElement(n,{key:f})}},90758:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var i=t(82394),o=t(26304),r=t(82684),l=t(25976),c=t(39867),a=t(55485),s=t(48670),u=t(38276),d=t(30160),f=t(12468),p=t(44897),h=t(79899),m=t(72473),v=t(97133),b=t(70515),x=t(15610),g=t(95924),y=t(28598),C=1.25*b.iI;var j=function(e){var n=e.filePath,t=e.filesTouched,i=void 0===t?{}:t,o=e.isLast,l=e.onClickTab,j=e.onClickTabClose,k=e.renderTabTitle,P=e.savePipelineContent,Z=e.selected,_=e.themeContext,w=(0,r.useState)(!1),O=w[0],I=w[1],T=(0,h.Z)({filePath:n,name:n,uuid:n}),F=T.BlockIcon,E=T.Icon,S=T.color,z=T.iconColor,N=T.isBlockFile;return(0,y.jsx)(a.ZP,{flexDirection:"column",fullHeight:!0,onClick:function(e){e.preventDefault(),Z||(l?l(n):(null===P||void 0===P||P(),(0,x.u)({file_path:encodeURIComponent(n)})))},onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},children:(0,y.jsx)(v.Gb,{last:o,selected:Z,children:(0,y.jsxs)(a.ZP,{alignItems:"center",fullHeight:!0,children:[(0,y.jsx)(f.Z,{appearAbove:!0,appearBefore:!0,label:n,size:null,widthFitContent:!0,children:(0,y.jsxs)(a.ZP,{alignItems:"center",fullHeight:!0,children:[!i[n]&&(0,y.jsx)(y.Fragment,{children:N?(0,y.jsx)(F,{color:S,size:1*b.iI,square:!0}):(0,y.jsx)(E,{fill:z,size:1.5*b.iI})}),i[n]&&(0,y.jsx)(f.Z,{label:"Unsaved changes",size:null,widthFitContent:!0,children:(0,y.jsx)("div",{style:{padding:1},children:(0,y.jsx)(c.Z,{borderColor:(_||p.Z).borders.danger,size:C})})}),(0,y.jsx)(u.Z,{mr:1}),(0,y.jsx)(d.ZP,{monospace:!0,muted:!Z,noWrapping:!0,small:!0,children:k?k(n):n})]})}),j&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.Z,{mr:2}),(0,y.jsx)(f.Z,{label:"Close",size:null,widthFitContent:!0,children:(0,y.jsxs)(s.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(e){(0,g.j)(e),null===j||void 0===j||j(n)},preventDefault:!0,children:[(O||Z)&&(0,y.jsx)(m.Close,{muted:!Z,size:C}),!O&&!Z&&(0,y.jsx)("div",{style:{width:C}})]})})]})]})})})},k=t(86735),P=["filePaths","isSelectedFilePath","onClickTab","onClickTabClose","selectedFilePath","tabsBefore"];function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.filePaths,t=e.isSelectedFilePath,i=e.onClickTab,c=e.onClickTabClose,s=e.selectedFilePath,u=e.tabsBefore,d=(0,o.Z)(e,P),f=(0,r.useContext)(l.ThemeContext),p=(0,r.useMemo)((function(){return n.map((function(e){return decodeURIComponent(e)}))}),[n]),h=(0,r.useMemo)((function(){return(null===p||void 0===p?void 0:p.length)||0}),[p]);return(0,y.jsxs)(a.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"flex-start",children:[(null===u||void 0===u?void 0:u.length)>=1&&(null===u||void 0===u?void 0:u.map((function(e){var n=e.label,o=e.onClick,r=e.uuid,l=t?t(r,s):s===encodeURIComponent(r);return(0,y.jsx)(j,{onClickTab:function(){return null===o||void 0===o?void 0:o({onClickTab:i})},renderTabTitle:function(){return n?null===n||void 0===n?void 0:n():r},selected:l,themeContext:f},r)}))),null===p||void 0===p?void 0:p.map((function(e,n){var o=t?t(e,s):s===encodeURIComponent(e);return(0,r.createElement)(j,_(_({},d),{},{filePath:e,isLast:n===h-1,key:e,onClickTab:i,onClickTabClose:function(e){if(c)c(e);else{var n=(0,k.Od)(p,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,x.u)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})}},selected:o,themeContext:f}))}))]})}},97133:function(e,n,t){"use strict";t.d(n,{Gb:function(){return f},fm:function(){return u},lO:function(){return s},rK:function(){return d},zn:function(){return a}});var i=t(25976),o=t(44897),r=t(2842),l=t(70515),c=t(47041),a=300,s=i.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],a,a),u=i.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).codeArea,";\n  ")})),d=i.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;position:sticky;top:","px;width:100%;z-index:5;"," "," "," ",""],r.Wi,r.Wi,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||o.Z.borders).medium,";\n  ")}),(function(e){return e.relativePosition&&"\n    position: relative;\n  "}),(function(e){return e.secondary&&"\n    height: ".concat(37,"px;\n    top: ").concat(r.Wi,"px;\n    overflow-x: auto;\n    z-index: 3;\n  ")}),(0,c.y$)()),f=i.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["border-right:1px solid transparent;height:100%;padding:","px ","px;"," "," ",""],1*l.iI,1.5*l.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||o.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.background||o.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.selected&&!e.last&&"\n    border-color: ".concat((e.theme.borders||o.Z.borders).light," !important;\n  ")}));i.default.div.withConfig({displayName:"indexstyle__HeaderViewOptionsStyle",componentId:"sc-1sv9513-4"})(["left:50%;position:absolute;transform:translateX(-50%);"])},83087:function(e,n,t){"use strict";t.r(n);var i=t(77837),o=t(38860),r=t.n(o),l=t(82684),c=t(65557),a=t(52479),s=t(43449),u=t(90758),d=t(93808),f=t(38276),p=t(59533),h=t(35686),m=t(86735),v=t(15610),b=t(69419),x=t(97133),g=t(75083),y=t(28598);function C(){var e=(0,l.useState)(null),n=e[0],t=e[1],i=(0,b.iV)(),o=i.file_path,r=(0,l.useMemo)((function(){var e=i["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[i]),d=(0,l.useCallback)((function(e){var n=encodeURIComponent(e),t=(0,b.iV)()["file_paths[]"]||[];Array.isArray(t)||(t=[t]),t.includes(n)||t.push(n),(0,v.u)({file_path:n,"file_paths[]":t})}),[]),C=h.ZP.files.list(),j=C.data,k=C.mutate,P=(0,l.useMemo)((function(){return(null===j||void 0===j?void 0:j.files)||[]}),[j]),Z=(0,l.useRef)(null),_=(0,l.useState)(null),w=_[0],O=_[1],I=(0,l.useState)([]),T=I[0],F=I[1],E=(0,l.useState)({}),S=E[0],z=E[1],N=(0,l.useMemo)((function(){return(0,y.jsx)(f.Z,{ml:1,mt:1,children:(0,y.jsx)(a.Z,{fetchFiles:k,files:P,openFile:d,ref:Z,showError:t})})}),[k,P,d,t]);return(0,l.useEffect)((function(){O(o)}),[o]),(0,l.useEffect)((function(){(0,m.fS)(r,T)||F(r)}),[r,T]),(0,y.jsx)(p.Z,{before:N,breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"File browser"}}],errors:n,mainContainerHeader:(0,y.jsx)(x.rK,{secondary:!0,children:(0,y.jsx)(u.Z,{filePaths:T,filesTouched:S,selectedFilePath:w})}),pageName:g.L6.FILE_BROWSER,children:null===r||void 0===r?void 0:r.map((function(e){return(0,y.jsx)("div",{style:{display:w===e?null:"none"},children:(0,y.jsx)(c.Z,{uuid:"manage/FileEditor/".concat(decodeURIComponent(e)),children:(0,y.jsx)(s.Z,{active:w===e,filePath:e,selectedFilePath:w,setErrors:t,setFilesTouched:z})})},e)}))})}C.getInitialProps=(0,i.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,d.Z)(C)},90205:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/files",function(){return t(83087)}])}},function(e){e.O(0,[6085,7011,1557,8038,4371,2479,3449,9774,2888,179],(function(){return n=90205,e(e.s=n);var n}));var n=e.O();_N_E=n}]);