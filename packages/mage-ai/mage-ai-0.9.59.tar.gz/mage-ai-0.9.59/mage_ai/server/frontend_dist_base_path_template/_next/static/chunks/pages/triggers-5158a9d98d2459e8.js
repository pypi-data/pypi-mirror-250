(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{4230:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(82394),i=r(21831),o=r(82684),u=r(50724),c=r(1402),d=r(97618),l=r(70613),s=r(31557),a=r(68899),f=r(28598);function h(e,t){var r=e.children,n=e.noPadding;return(0,f.jsx)(a.HS,{noPadding:n,ref:t,children:r})}var v=o.forwardRef(h),p=r(62547),b=r(82571),O=r(77417),w=r(46684),m=r(98464),g=r(70515),j=r(53808),P=r(19183);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=25*g.iI,x=2*Z;function E(e,t,r){var n=r.disable,i=r.refOther,u=r.setWidth,c=r.width,d=r.widthOverride,l=r.widthWindow,s=(0,o.useMemo)((function(){return"".concat(e,"_width")}),[e]),a=(0,j.U2)(s),f=(0,o.useState)(!1),h=f[0],v=f[1],p=(0,o.useState)(a||c),b=p[0],O=p[1],w=(0,o.useMemo)((function(){var e="undefined"!==typeof c&&d?c:b;return t.current=A(A({},t.current),{},{widthOverride:d,widthProp:c}),e||Z}),[u,d,c,b]),g=(0,o.useCallback)((function(e){if(!n){var r,o,c,d,a,f=Math.max(l-(x+(null!==i&&void 0!==i&&null!==(r=i.current)&&void 0!==r&&r.disable?0:(null!==i&&void 0!==i&&null!==(o=i.current)&&void 0!==o&&o.widthOverride?null===i||void 0===i||null===(c=i.current)||void 0===c?void 0:c.widthProp:null===i||void 0===i||null===(d=i.current)||void 0===d?void 0:d.width)||Z)),Z+x+(null!==i&&void 0!==i&&null!==(a=i.current)&&void 0!==a&&a.disable?0:Z)),h=Math.max(Z,Math.min(f,e));e&&(O(h),(0,j.uN)(s,h),u&&u(h)),t.current=A(A({},t.current),{},{disable:n,width:h})}}),[n,s,i,u,l]),P=(0,m.Z)(l);(0,o.useEffect)((function(){l!==P&&g(l*(w/P))}),[w,l,P]);var y=(0,m.Z)(c);return(0,o.useEffect)((function(){!n&&d&&y!==c&&g(c)}),[n,g,d,c,y]),{mousedownActive:h,setMousedownActive:v,setWidth:g,width:w}}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var r=e.after,n=e.afterHeader,h=e.afterHidden,m=e.afterWidth,g=e.afterWidthOverride,j=e.appendBreadcrumbs,y=e.before,A=e.beforeHeader,Z=e.beforeWidth,_=e.breadcrumbs,C=e.children,k=e.contained,D=e.errors,T=e.headerMenuItems,B=e.headerOffset,S=e.hideAfterCompletely,W=e.mainContainerHeader,I=e.navigationItems,R=e.setAfterHidden,N=e.setAfterWidth,H=e.setBeforeWidth,U=e.setErrors,L=e.subheaderChildren,V=e.subheaderNoPadding,X=e.title,F=function(e,t){var r=t.disableAfter,n=t.disableBefore,i=t.setWidthAfter,u=t.setWidthBefore,c=t.widthAfter,d=t.widthBefore,l=t.widthOverrideAfter,s=t.widthOverrideBefore,a=(0,P.i)().width,f=(0,o.useMemo)((function(){return"layout_after_".concat(e)}),[e]),h=(0,o.useMemo)((function(){return"layout_before_".concat(e)}),[e]),v=(0,o.useRef)(null),p=(0,o.useState)(null),b=p[0],O=p[1],w=((0,o.useMemo)((function(){return Math.max(b-x,x)}),[b]),(0,o.useRef)({disable:r,widthOverride:l,width:null,widthProp:c})),m=(0,o.useRef)({disable:n,widthOverride:s,width:null,widthProp:d}),g=E(f,w,{disable:r,refOther:m,setWidth:i,width:c,widthOverride:l,widthWindow:a}),j=g.mousedownActive,y=g.setMousedownActive,A=g.setWidth,Z=g.width,_=E(h,m,{disable:n,refOther:w,setWidth:u,width:d,widthOverride:s,widthWindow:a}),M=_.mousedownActive,C=_.setMousedownActive,k=_.setWidth,D=_.width;return(0,o.useEffect)((function(){m.current={disable:n,width:D,widthOverride:s,widthProp:d}}),[n,D,s]),(0,o.useEffect)((function(){var e,t;null===v||void 0===v||!v.current||j||M||null===O||void 0===O||O(null===v||void 0===v||null===(e=v.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)}),[j,M,O,Z,D,a]),{mainContainerRef:v,mousedownActiveAfter:j,mousedownActiveBefore:M,setMousedownActiveAfter:y,setMousedownActiveBefore:C,setWidthAfter:A,setWidthBefore:k,widthAfter:Z,widthBefore:D}}(e.uuid,{setWidthAfter:N,setWidthBefore:H,widthAfter:m,widthBefore:Z,widthOverrideAfter:g}),Y=F.mainContainerRef,z=F.mousedownActiveAfter,Q=F.mousedownActiveBefore,J=F.setMousedownActiveAfter,$=F.setMousedownActiveBefore,G=F.setWidthAfter,q=F.setWidthBefore,K=F.widthAfter,ee=F.widthBefore,te=(0,O.Z)().project,re=[];return _&&re.push.apply(re,(0,i.Z)(_)),null!==_&&void 0!==_&&_.length&&!j||!te||null!==_&&void 0!==_&&_.length||re.unshift({bold:!j,label:function(){return X}}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{title:X}),(0,f.jsx)(s.Z,{breadcrumbs:re,menuItems:T}),(0,f.jsxs)(a.Nk,{ref:t,children:[0!==(null===I||void 0===I?void 0:I.length)&&(0,f.jsx)(a.lm,{showMore:!0,children:(0,f.jsx)(b.Z,{navigationItems:I,showMore:!0})}),(0,f.jsx)(d.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(p.Z,{after:r,afterHeader:n,afterHeightOffset:w.Mz,afterHidden:h,afterMousedownActive:z,afterWidth:K,before:y,beforeHeader:A,beforeHeightOffset:w.Mz,beforeMousedownActive:Q,beforeWidth:y?ee:a.k1,contained:k,headerOffset:B,hideAfterCompletely:!r||S,leftOffset:y?a.k1:null,mainContainerHeader:W,mainContainerRef:Y,setAfterHidden:R,setAfterMousedownActive:J,setAfterWidth:G,setBeforeMousedownActive:$,setBeforeWidth:q,children:[L&&(0,f.jsx)(v,{noPadding:V,children:L}),C]})})]}),D&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===U||void 0===U?void 0:U(null)},children:(0,f.jsx)(c.Z,M(M({},D),{},{onClose:function(){return null===U||void 0===U?void 0:U(null)}}))})]})}var k=o.forwardRef(C)},16488:function(e,t,r){"use strict";r.d(t,{IJ:function(){return p},M8:function(){return Z},Uc:function(){return g},XM:function(){return A},_U:function(){return v},eI:function(){return m},gU:function(){return P},lO:function(){return C},ri:function(){return O},tL:function(){return j},vJ:function(){return y},xH:function(){return w}});var n,i=r(82394),o=r(92083),u=r.n(o),c=r(3917),d=r(4383),l=r(30229),s=r(42122),a=r(86735);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){return!!e&&!Object.values(l.U5).includes(e)};function p(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){var r=t.block_uuid,n=t.completed_at,o=t.started_at,c=t.status,d=null;o&&n&&(d=u()(n).valueOf()-u()(o).valueOf());return h(h({},e),{},(0,i.Z)({},r,{runtime:d,status:c}))}),{})}var b,O=function(e){var t=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:l.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:l.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:l.Xm.API}];return e?t.slice(0,1):t};function w(e){var t=(0,s.gR)(e,[l.gm.INTERVAL,l.gm.TYPE]),r=e[l.gm.INTERVAL];r&&(t["schedule_interval[]"]=encodeURIComponent(r));var n=e[l.gm.TYPE];return n&&(t["schedule_type[]"]=n),t}function m(e){return e?new Date(u()(e).valueOf()):null}function g(e,t){return t?(0,c.XG)(e,t):function(e){if("string"!==typeof e)return e;var t=e.split("+")[0];return u()(m(t)).format(c.Nx)}(e)}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(b||(b={}));var j=(n={},(0,i.Z)(n,b.DAY,86400),(0,i.Z)(n,b.HOUR,3600),(0,i.Z)(n,b.MINUTE,60),(0,i.Z)(n,b.SECOND,1),n);function P(e){var t=b.SECOND,r=e;return e%86400===0?(r/=86400,t=b.DAY):e%3600===0?(r/=3600,t=b.HOUR):e%60===0&&(r/=60,t=b.MINUTE),{time:r,unit:t}}function y(e,t){return e*j[t]}function A(e,t,r){var n,i=u()(e);return i.set("hour",+(null===t||void 0===t?void 0:t.hour)||0),i.set("minute",+(null===t||void 0===t?void 0:t.minute)||0),i.set("second",0),n=i.format(c.TD),null!==r&&void 0!==r&&r.includeSeconds&&(n=n.concat(":00")),null!==r&&void 0!==r&&r.localTimezone&&(n=i.format(c.lE),null!==r&&void 0!==r&&r.convertToUtc&&(n=(0,c.d$)(n,{includeSeconds:null===r||void 0===r?void 0:r.includeSeconds,utcFormat:!0}))),n}function Z(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",i=!0;return i&&(r?n="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/api_trigger"):(n="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(n="".concat(n,"/").concat(e.token)))),i&&(t=window.location.port)&&(n=n.replace(t,d.QT)),n}function x(e,t,r){return e.match(/[*,-/]/)?{additionalOffset:0,cronValue:e}:function(e,t,r){var n=r.indexOf(e),i=0;if(t<0)for(var o=0;o>t;o--)0===n?(n=r.length-1,i-=1):n-=1;else if(t>0)for(var u=0;u<t;u++)n===r.length-1?(n=0,i+=1):n+=1;return{additionalOffset:i,cronValue:String(r[n]||e)}}(+e,t,r)}var E=(0,a.m5)(60),_=(0,a.m5)(24),M=(0,c.Cs)();function C(e,t){if(!e)return e;var r=u()().local().format("Z"),n=r.split(":"),i="-"===r[0],o=3===n[0].length?Number(n[0].slice(1)):Number(n[0]),c=Number(n[1]);(i&&!t||!i&&t)&&(o=-o,c=-c);var d=e.split(" "),l=d[0],s=d[1],a=d[2],f=x(l,c,E),h=x(s,o+f.additionalOffset,_);if(d[0]=f.cronValue,d[1]=h.cronValue,0!==(null===h||void 0===h?void 0:h.additionalOffset)){var v=x(a,h.additionalOffset,M);d[2]=v.cronValue}return d.join(" ")}},55072:function(e,t,r){"use strict";r.d(t,{Et:function(){return f},Q:function(){return a}});r(82684);var n=r(71180),i=r(55485),o=r(38276),u=r(31748),c=r(72473),d=r(79633),l=r(70515),s=r(28598),a=30,f=9;t.ZP=function(e){var t=e.page,r=e.maxPages,a=e.onUpdate,f=e.totalPages,h=[],v=r;if(v>f)h=Array.from({length:f},(function(e,t){return t}));else{var p=Math.floor(v/2),b=t-p;t+p>=f?(b=f-v+2,v-=2):t-p<=0?(b=0,v-=2):(v-=4,b=t-Math.floor(v/2)),h=Array.from({length:v},(function(e,t){return t+b}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(n.ZP,{disabled:0===t,onClick:function(){return a(t-1)},children:(0,s.jsx)(c.PaginateArrowLeft,{size:1.5*l.iI,stroke:u.Av})}),!h.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(n.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return a(0)},children:1})},0),!h.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(n.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),h.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(n.ZP,{backgroundColor:e===t&&d.a$,borderLess:!0,noBackground:!0,notClickable:e===t,onClick:function(){e!==t&&a(e)},children:e+1})},e)})),!h.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!h.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(n.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(n.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return a(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(n.ZP,{disabled:t===f-1,onClick:function(){return a(t+1)},children:(0,s.jsx)(c.PaginateArrowRight,{size:1.5*l.iI,stroke:u.Av})})]})})}},77174:function(e,t,r){"use strict";r.r(t);var n=r(77837),i=r(82394),o=r(75582),u=r(38860),c=r.n(u),d=r(82684),l=r(34376),s=r(4230),a=r(55485),f=r(55072),h=r(93808),v=r(82359),p=r(44085),b=r(38276),O=r(30160),w=r(29624),m=r(35686),g=r(30229),j=r(70515),P=r(15610),y=r(69419),A=r(70320),Z=r(28598);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(){var e=(0,l.useRouter)(),t=(0,d.useState)(null),r=t[0],n=t[1],i=(0,y.iV)(),u=null!==i&&void 0!==i&&i.page?i.page:0,c=(null===i||void 0===i?void 0:i.order_by)||g.kJ.CREATED_AT,h=m.ZP.projects.list().data,x=(0,d.useMemo)((function(){var e;return null===h||void 0===h||null===(e=h.projects)||void 0===e?void 0:e[0]}),[h]),_=((0,d.useMemo)((function(){var e;return(0,A.hY)(null===x||void 0===x||null===(e=x.features)||void 0===e?void 0:e[v.d.LOCAL_TIMEZONE])}),[null===x||void 0===x?void 0:x.features]),{_limit:f.Q,_offset:u*f.Q,order_by:c}),M=m.ZP.pipeline_schedules.list(_,{refreshInterval:7500,revalidateOnFocus:!0}),C=M.data,k=M.mutate,D=(0,d.useMemo)((function(){return(null===C||void 0===C?void 0:C.pipeline_schedules)||[]}),[C]),T=(0,d.useMemo)((function(){var e;return(null===C||void 0===C||null===(e=C.metadata)||void 0===e?void 0:e.count)||[]}),[C]);return(0,Z.jsxs)(s.Z,{errors:r,setErrors:n,title:"Triggers",uuid:"triggers/index",children:[(0,Z.jsx)(b.Z,{mx:2,my:1,children:(0,Z.jsxs)(a.ZP,{alignItems:"center",children:[(0,Z.jsx)(O.ZP,{bold:!0,default:!0,large:!0,children:"Sort runs by:"}),(0,Z.jsx)(b.Z,{mr:1}),(0,Z.jsx)(p.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(e){e.preventDefault(),(0,P.u)({order_by:e.target.value,page:0})},paddingRight:4*j.iI,placeholder:"Select column",value:c||g.kJ.CREATED_AT,children:Object.entries(g.TR).map((function(e){var t=(0,o.Z)(e,2),r=t[0],n=t[1];return(0,Z.jsx)("option",{value:r,children:n},r)}))})]})}),(0,Z.jsx)(w.Z,{fetchPipelineSchedules:k,highlightRowOnHover:!0,includeCreatedAtColumn:!0,includePipelineColumn:!0,pipelineSchedules:D,setErrors:n,stickyHeader:!0}),(0,Z.jsx)(b.Z,{p:2,children:(0,Z.jsx)(f.ZP,{maxPages:9,onUpdate:function(t){var r=Number(t),n=E(E({},i),{},{page:r>=0?r:0});e.push("/triggers","/triggers?".concat((0,y.uM)(n)))},page:Number(u),totalPages:Math.ceil(T/f.Q)})})]})}_.getInitialProps=(0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,h.Z)(_)},59733:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triggers",function(){return r(77174)}])},80022:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},15544:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},13692:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},93189:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(12539),i=r(80022);function o(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[6085,1557,8038,9624,9774,2888,179],(function(){return t=59733,e(e.s=t);var t}));var t=e.O();_N_E=t}]);