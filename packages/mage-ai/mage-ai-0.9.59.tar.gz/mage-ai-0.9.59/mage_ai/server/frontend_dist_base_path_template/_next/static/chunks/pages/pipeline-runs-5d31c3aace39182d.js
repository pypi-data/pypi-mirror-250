(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{4230:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(82394),i=r(21831),o=r(82684),u=r(50724),d=r(1402),s=r(97618),c=r(70613),f=r(31557),l=r(68899),a=r(28598);function p(e,t){var r=e.children,n=e.noPadding;return(0,a.jsx)(l.HS,{noPadding:n,ref:t,children:r})}var h=o.forwardRef(p),v=r(62547),w=r(82571),b=r(77417),O=r(46684),m=r(98464),j=r(70515),g=r(53808),P=r(19183);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=25*j.iI,M=2*_;function Z(e,t,r){var n=r.disable,i=r.refOther,u=r.setWidth,d=r.width,s=r.widthOverride,c=r.widthWindow,f=(0,o.useMemo)((function(){return"".concat(e,"_width")}),[e]),l=(0,g.U2)(f),a=(0,o.useState)(!1),p=a[0],h=a[1],v=(0,o.useState)(l||d),w=v[0],b=v[1],O=(0,o.useMemo)((function(){var e="undefined"!==typeof d&&s?d:w;return t.current=A(A({},t.current),{},{widthOverride:s,widthProp:d}),e||_}),[u,s,d,w]),j=(0,o.useCallback)((function(e){if(!n){var r,o,d,s,l,a=Math.max(c-(M+(null!==i&&void 0!==i&&null!==(r=i.current)&&void 0!==r&&r.disable?0:(null!==i&&void 0!==i&&null!==(o=i.current)&&void 0!==o&&o.widthOverride?null===i||void 0===i||null===(d=i.current)||void 0===d?void 0:d.widthProp:null===i||void 0===i||null===(s=i.current)||void 0===s?void 0:s.width)||_)),_+M+(null!==i&&void 0!==i&&null!==(l=i.current)&&void 0!==l&&l.disable?0:_)),p=Math.max(_,Math.min(a,e));e&&(b(p),(0,g.uN)(f,p),u&&u(p)),t.current=A(A({},t.current),{},{disable:n,width:p})}}),[n,f,i,u,c]),P=(0,m.Z)(c);(0,o.useEffect)((function(){c!==P&&j(c*(O/P))}),[O,c,P]);var y=(0,m.Z)(d);return(0,o.useEffect)((function(){!n&&s&&y!==d&&j(d)}),[n,j,s,d,y]),{mousedownActive:p,setMousedownActive:h,setWidth:j,width:O}}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var r=e.after,n=e.afterHeader,p=e.afterHidden,m=e.afterWidth,j=e.afterWidthOverride,g=e.appendBreadcrumbs,y=e.before,A=e.beforeHeader,_=e.beforeWidth,x=e.breadcrumbs,W=e.children,B=e.contained,C=e.errors,D=e.headerMenuItems,k=e.headerOffset,S=e.hideAfterCompletely,H=e.mainContainerHeader,R=e.navigationItems,I=e.setAfterHidden,N=e.setAfterWidth,T=e.setBeforeWidth,F=e.setErrors,U=e.subheaderChildren,L=e.subheaderNoPadding,Q=e.title,q=function(e,t){var r=t.disableAfter,n=t.disableBefore,i=t.setWidthAfter,u=t.setWidthBefore,d=t.widthAfter,s=t.widthBefore,c=t.widthOverrideAfter,f=t.widthOverrideBefore,l=(0,P.i)().width,a=(0,o.useMemo)((function(){return"layout_after_".concat(e)}),[e]),p=(0,o.useMemo)((function(){return"layout_before_".concat(e)}),[e]),h=(0,o.useRef)(null),v=(0,o.useState)(null),w=v[0],b=v[1],O=((0,o.useMemo)((function(){return Math.max(w-M,M)}),[w]),(0,o.useRef)({disable:r,widthOverride:c,width:null,widthProp:d})),m=(0,o.useRef)({disable:n,widthOverride:f,width:null,widthProp:s}),j=Z(a,O,{disable:r,refOther:m,setWidth:i,width:d,widthOverride:c,widthWindow:l}),g=j.mousedownActive,y=j.setMousedownActive,A=j.setWidth,_=j.width,x=Z(p,m,{disable:n,refOther:O,setWidth:u,width:s,widthOverride:f,widthWindow:l}),E=x.mousedownActive,W=x.setMousedownActive,B=x.setWidth,C=x.width;return(0,o.useEffect)((function(){m.current={disable:n,width:C,widthOverride:f,widthProp:s}}),[n,C,f]),(0,o.useEffect)((function(){var e,t;null===h||void 0===h||!h.current||g||E||null===b||void 0===b||b(null===h||void 0===h||null===(e=h.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)}),[g,E,b,_,C,l]),{mainContainerRef:h,mousedownActiveAfter:g,mousedownActiveBefore:E,setMousedownActiveAfter:y,setMousedownActiveBefore:W,setWidthAfter:A,setWidthBefore:B,widthAfter:_,widthBefore:C}}(e.uuid,{setWidthAfter:N,setWidthBefore:T,widthAfter:m,widthBefore:_,widthOverrideAfter:j}),z=q.mainContainerRef,V=q.mousedownActiveAfter,X=q.mousedownActiveBefore,Y=q.setMousedownActiveAfter,G=q.setMousedownActiveBefore,K=q.setWidthAfter,J=q.setWidthBefore,$=q.widthAfter,ee=q.widthBefore,te=(0,b.Z)().project,re=[];return x&&re.push.apply(re,(0,i.Z)(x)),null!==x&&void 0!==x&&x.length&&!g||!te||null!==x&&void 0!==x&&x.length||re.unshift({bold:!g,label:function(){return Q}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{title:Q}),(0,a.jsx)(f.Z,{breadcrumbs:re,menuItems:D}),(0,a.jsxs)(l.Nk,{ref:t,children:[0!==(null===R||void 0===R?void 0:R.length)&&(0,a.jsx)(l.lm,{showMore:!0,children:(0,a.jsx)(w.Z,{navigationItems:R,showMore:!0})}),(0,a.jsx)(s.Z,{flex:1,flexDirection:"column",children:(0,a.jsxs)(v.Z,{after:r,afterHeader:n,afterHeightOffset:O.Mz,afterHidden:p,afterMousedownActive:V,afterWidth:$,before:y,beforeHeader:A,beforeHeightOffset:O.Mz,beforeMousedownActive:X,beforeWidth:y?ee:l.k1,contained:B,headerOffset:k,hideAfterCompletely:!r||S,leftOffset:y?l.k1:null,mainContainerHeader:H,mainContainerRef:z,setAfterHidden:I,setAfterMousedownActive:Y,setAfterWidth:K,setBeforeMousedownActive:G,setBeforeWidth:J,children:[U&&(0,a.jsx)(h,{noPadding:L,children:U}),W]})})]}),C&&(0,a.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===F||void 0===F?void 0:F(null)},children:(0,a.jsx)(d.Z,E(E({},C),{},{onClose:function(){return null===F||void 0===F?void 0:F(null)}}))})]})}var B=o.forwardRef(W)},78234:function(e,t,r){"use strict";r.r(t);var n=r(77837),i=r(82394),o=r(38860),u=r.n(o),d=r(82684),s=r(34376),c=r(4230),f=r(55072),l=r(53943),a=r(93808),p=r(82359),h=r(38276),v=r(4190),w=r(85544),b=r(35686),O=r(44265),m=r(70515),j=r(69419),g=r(86735),P=r(70320),y=r(28598);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(){var e=(0,s.useRouter)(),t=(0,d.useState)(null),r=t[0],n=t[1],o=(0,j.iV)(),u=null!==o&&void 0!==o&&o.page?o.page:0,a=(0,j.DQ)(o,[O.P0.PIPELINE_UUID,O.P0.STATUS,O.P0.TAG]),A=b.ZP.projects.list().data,M=(0,d.useMemo)((function(){var e;return null===A||void 0===A||null===(e=A.projects)||void 0===e?void 0:e[0]}),[A]),Z=((0,d.useMemo)((function(){var e;return(0,P.hY)(null===M||void 0===M||null===(e=M.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===M||void 0===M?void 0:M.features]),_(_({},a),{},{_limit:f.Q,_offset:u*f.Q,disable_retries_grouping:!0,include_pipeline_tags:!0,include_pipeline_uuids:!0}));null!==o&&void 0!==o&&o.status&&(Z.status=o.status);var x=b.ZP.pipeline_runs.list(Z,{refreshInterval:3e3,revalidateOnFocus:!0}),E=x.data,W=x.mutate,B=b.ZP.tags.list().data,C=(0,d.useMemo)((function(){return(0,g.YC)((null===B||void 0===B?void 0:B.tags)||[],(function(e){return e.uuid}))}),[B]),D=(0,d.useMemo)((function(){return(null===E||void 0===E?void 0:E.pipeline_runs)||[]}),[E]),k=(0,d.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.count)||[]}),[E]),S=(0,d.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.pipeline_uuids)||[]}),[E]),H=(0,d.useMemo)((function(){return(0,y.jsx)(w.Z,{filterOptions:{pipeline_uuid:S,pipeline_tag:C.map((function(e){return e.uuid})),status:O.IK},filterValueLabelMapping:{pipeline_tag:C.reduce((function(e,t){var r=t.uuid;return _(_({},e),{},(0,i.Z)({},r,r))}),{}),status:O.Do},onClickFilterDefaults:function(){e.push("/pipeline-runs")},query:a,resetPageOnFilterApply:!0})}),[S,a,e,C]);return(0,y.jsx)(c.Z,{errors:r,setErrors:n,subheaderChildren:H,title:"Pipeline runs",uuid:"pipeline_runs/index",children:E?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{fetchPipelineRuns:W,includePipelineTags:!0,pipelineRuns:D,setErrors:n}),(0,y.jsx)(h.Z,{p:2,children:(0,y.jsx)(f.ZP,{maxPages:f.Et,onUpdate:function(t){var r=Number(t),n=_(_({},o),{},{page:r>=0?r:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,j.uM)(n)))},page:Number(u),totalPages:Math.ceil(k/f.Q)})})]}):(0,y.jsx)(h.Z,{p:m.Mq,children:(0,y.jsx)(v.Z,{inverted:!0,large:!0})})})}M.getInitialProps=(0,n.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,a.Z)(M)},60710:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return r(78234)}])},80022:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},15544:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},13692:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},93189:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(12539),i=r(80022);function o(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[6085,1557,8038,3943,2474,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);