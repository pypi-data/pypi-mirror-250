import{_ as e,C as l,c as a,q as t,o as u,a as s,t as o,n as r,N as n,l as v,P as d,b as i,F as c,v as f,j as m,x as y,f as b,r as h}from"./index-LACzRkOd.js";const p=["href"],x=e({__name:"SLStatusLabel",props:{status:{type:Number,required:!0},id:{default:null}},setup(e){const v=l(),d=e,i=a((()=>{const e=t("experiment.status."+d.status);let l="";switch(d.status){case 0:l="running";break;case 1:l="finished";break;case-1:l="stoped"}if(!l)throw new Error("Invalid status:"+d.status+"in StatusLabel.vue");return{label:e,class:l}})),c=a((()=>{if(d.id)return"/experiment/"+d.id})),f=()=>{c.value&&v.push(c.value)};return(e,l)=>(u(),s("a",{class:r(["sl-status-label",i.value.class]),href:c.value,onClick:n(f,["prevent"])},o(i.value.label),11,p))}},[["__scopeId","data-v-b836b5fe"]]),g={class:"w-full overflow-auto"},w={class:"border-b flex bg-higher table-header"},k=["onMouseover"],_=["title"],$=["onMousedown"],L=["title","onMouseover"],M={key:0},S={key:1},E={key:0,class:"flex justify-center py-3"},j={class:"data-empty"},A=e({__name:"SLTable",props:{data:{type:Array,default:()=>[]},column:{type:Array,default:()=>[]},maxW:{type:String,default:"none"},highLight:{type:Boolean,default:!0},flexable:{type:Boolean,default:!1}},setup(e){const l=e,t=v(null),n=v([]),p=v(null),x=a((()=>{if(l.flexable)return"100%";let e=0;return n.value.forEach((({value:l})=>{e+=l})),e+2+"px"})),A=a((()=>{if(l.flexable){const e=l.column.length;return new Array(e).fill(1/e*100+"%")}return n.value.map((e=>(null==e?void 0:e.value)?(null==e?void 0:e.value)+"px":""))})),I=v(-1),W=a((()=>-1===q.value?I.value:q.value));d((()=>{l.column.forEach(((e,l)=>{if(n.value[l]={value:0,extended:!1},e.width){const a=e.width>150?e.width:150;n.value[l].value=e.border?a-2:a}else n.value[l].value=150}))}));const q=v(-1),z=v(0),B=v(0),C=v(70),N=e=>{let l=B.value+(e.clientX-z.value);l=l<C.value?C.value:l,n.value[q.value].value=l,t.value[q.value]=l},X=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",X),document.body.style.userSelect="auto",document.body.style.cursor="",z.value=0,B.value=0,q.value=-1};return(l,a)=>(u(),s("div",g,[i("div",{class:"border",ref_key:"table",ref:p,style:m({width:x.value})},[i("div",w,[(u(!0),s(c,null,f(e.column,((l,v)=>(u(),s("div",{key:l.key,class:r(["relative w-full cell shrink-0",`${W.value===v?" bg-highest":"bg-higher"} ${l.border?"border-r":""}`]),onMouseover:()=>I.value=v,onMouseout:a[0]||(a[0]=()=>I.value=-1),style:m({width:A.value[v]}),ref_for:!0,ref_key:"columns",ref:t},[i("div",{class:r(["overflow-hidden w-full h-full flex items-center",l.style?l.style:"px-2 py-3"]),title:l.title},[y(o(l.title)+" ",1),e.column.unresizeable||e.flexable?b("",!0):(u(),s("span",{key:0,class:r(`${W.value===v?"bg-positive-dimmest":""} ${q.value===v?"!bg-primary-default":""}`),onMousedown:e=>((e,l)=>{document.body.style.userSelect="none",document.body.style.cursor="col-resize",q.value=l,z.value=e.clientX,A.value[l].endsWith("%")&&(n.value[l].value=t.value[l].offsetWidth),B.value=n.value[l].value,document.addEventListener("mousemove",N),document.addEventListener("mouseup",X)})(e,v)},null,42,$))],10,_)],46,k)))),128))]),(u(!0),s(c,null,f(e.data,((t,n)=>(u(),s("div",{key:t,class:r([-1===q.value?"hover:bg-higher":"","flex items-center"])},[(u(!0),s(c,null,f(e.column,((e,v)=>(u(),s("div",{key:e.key,title:t[e.key],class:r(["cell shrink-0 px-2 py-3",`${"swanlab-table-column-"+v} ${-1===q.value?"hover:bg-primary-dimmest":""} ${e.border?"border-r ":""} ${e.style} ${W.value===v?"bg-higher":""}`]),onMouseover:()=>I.value=v,onMouseout:a[1]||(a[1]=()=>I.value=-1),style:m({width:A.value[v]})},[e.slot?(u(),s("div",M,[h(l.$slots,e.slot,{row:t,index:n},void 0,!0)])):(u(),s("div",S,o(t[e.key]||"-"),1))],46,L)))),128))],2)))),128)),e.data.length?b("",!0):(u(),s("div",E,[i("div",j,o(l.$t("common.table.empty")),1)]))],4)]))}},[["__scopeId","data-v-65abf2d0"]]);export{A as S,x as a};
