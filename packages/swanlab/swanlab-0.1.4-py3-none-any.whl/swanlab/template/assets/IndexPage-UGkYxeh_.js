import{D as e,c as t,o as l,a,n as s,K as i,q as n,h as u,u as r,m as d,_ as o,l as c,E as m,b as p,t as v,e as x,d as f,g,f as h,F as y,v as k,w as _,x as b,A as w,S as $,r as S,T as C,B as E}from"./index-LACzRkOd.js";import{a as T,S as j}from"./SLTable-5u8NmPpa.js";const L={__name:"StopButton",setup(o){const c=e(),m=c.id,p=c.status,v=t((()=>0===p)),x=()=>{i(n("experiment.index.header.stop.modal.title"),n("experiment.index.header.stop.modal.text"),n("experiment.index.header.stop.button")).then(f)},f=async()=>{const{data:e}=await u.get(`/experiment/${m}/stop`);e&&(c.setUpateTime(e.update_time),r().setExperimentStatus(m,-1),d.success("State changed"))};return(e,t)=>(l(),a("button",{class:s(["underline text-dimmest ml-2",v.value?"":"cursor-not-allowed"]),onClick:x}," is over? ",2))}},A={class:"w-full px-6 pb-2 text-default relative"},D={class:"flex justify-between pt-6 pb-2 flex-wrap"},F={class:"min-w-[400px] max-w-[50%] pr-4"},I={class:"flex items-center pb-4"},U={class:"title"},B={key:0,class:"flex pb-4"},H={class:"title"},N=["title"],q={key:1,class:"text-dimmest"},z=["href"],G={key:0,class:"w-1/2 min-w-[400px]"},J={class:"title"},K=["title"],M=o({__name:"ExperimentHeader",setup(s){const i=e(),n=c(i.experiment),u=t((()=>[{title:"start_time",value:w(n.value.create_time)},{title:"last_time",value:i.duration},{title:"version",value:`v${n.value.version}`}])),r=t((()=>[{title:"hostname",value:n.value.system.hostname||""},{title:"os",value:n.value.system.os||""},{title:"python",value:n.value.system.python||""}]));return(e,t)=>{const s=m("router-link"),d=$;return l(),a("div",A,[p("div",D,[p("div",F,[p("div",I,[p("div",U,v(e.$t("experiment.index.header.experiment_infos.status")),1),x(T,{name:n.value.name,id:n.value.id,status:n.value.status},null,8,["name","id","status"]),f(i).isRunning?(l(),g(L,{key:0})):h("",!0)]),(l(!0),a(y,null,k(u.value,(t=>(l(),a("div",{key:t.title},[t.value||"git"===t.title?(l(),a("div",B,[p("div",H,v(e.$t(`experiment.index.header.experiment_infos.${t.title}`)),1),t.isLink?"git"!==t.title||t.value?(l(),a("a",{key:2,href:t.value,target:"_blank",class:"hover:underline break-all"},v(t.value),9,z)):(l(),a("div",q,"None")):(l(),a("div",{key:0,title:t.value},v(t.value),9,N))])):h("",!0)])))),128))]),n.value.system?(l(),a("div",G,[(l(!0),a(y,null,k(r.value,(t=>(l(),a("div",{key:t.title,class:"flex pb-4"},[p("div",J,v(e.$t(`experiment.index.header.experiment_device.${t.title}`)),1),p("div",{title:t.value},v(t.value||"Unkown"),9,K)])))),128)),x(d,{theme:"primary",hollow:"",class:"rounded-lg"},{default:_((()=>[x(s,{to:"env",class:"block px-3 py-1"},{default:_((()=>[b("All Details")])),_:1})])),_:1})])):h("",!0)])])}}},[["__scopeId","data-v-122318ad"]]),O={__name:"SLHelp",props:{iconClass:{type:String,default:""},content:{type:String,default:""},contentClass:{type:String,default:""},document:{type:String}},setup(e){const t=e,a=()=>{t.document&&window.open(t.document,"_blank")};return(t,i)=>(l(),g(f(C),{trigger:"mouseenter",placement:"right",class:s(e.document?"cursor-pointer":""),onClick:a},{content:_((()=>[p("div",{class:s(e.contentClass)},v(e.content),3),S(t.$slots,"default")])),default:_((()=>[p("div",{class:s(["w-5 h-5 flex items-center justify-center text-sm rounded-full pointer-events-none bg-overlay text-white-default font-semibold",e.iconClass])}," ? ",2)])),_:3},8,["class"]))}},P=["title"],Q={class:"pl-6 w-full grid lg:grid-cols-2 lg:gap-10"},R={class:"pt-4"},W={class:"flex items-center pb-4"},V={class:"font-semibold pr-2"},X={key:0,class:"pt-4"},Y={key:0,class:"flex items-center pb-4"},Z={class:"font-semibold pr-2"},ee=p("div",{class:"w-full h-6"},null,-1),te={__name:"ExperimentConfig",setup(s){const i=c(e().experiment),n=[{title:"key",key:"key"},{title:"value",key:"value"}],r=t((()=>{const e=[];for(const t in i.value.config)e.push({key:t,value:i.value.config[t]});return e})),d=c([]),o=c(e().id);return u.get(`/experiment/${o.value}/summary`).then((({data:e})=>{d.value=(e.summaries||[]).map((e=>({key:e.key,value:E(e.value)})))})).catch((e=>{})),(e,t)=>{var s,i;return l(),a("div",{class:"pr-5",icon:"config",title:e.$t("experiment.index.config.title"),retract:!1},[p("div",Q,[p("div",R,[p("div",W,[p("p",V,v(e.$t("experiment.index.config.detail")),1),x(O,{document:"https://geektechstudio.feishu.cn/wiki/EFi3wuACGiEWlLki5aDcQiSpngg"},{default:_((()=>[b(v(e.$t("experiment.index.config.help.config")),1)])),_:1})]),x(f(j),{column:n,data:r.value,flexable:""},null,8,["data"])]),0!==(null==(s=d.value)?void 0:s.length)?(l(),a("div",X,[0!==(null==(i=d.value)?void 0:i.length)?(l(),a("div",Y,[p("p",Z,v(e.$t("experiment.index.config.summarize")),1),x(O,{document:"https://geektechstudio.feishu.cn/wiki/TudNwOSMyihFetky7l5cTI8UnJf"},{default:_((()=>[b(v(e.$t("experiment.index.config.help.summary")),1)])),_:1})])):h("",!0),x(f(j),{column:n,data:d.value,flexable:""},null,8,["data"])])):h("",!0)]),ee],8,P)}}},le=p("hr",null,null,-1),ae=p("hr",null,null,-1),se={__name:"IndexPage",setup:e=>(e,t)=>(l(),a(y,null,[x(M),le,x(te),ae],64))};export{se as default};
