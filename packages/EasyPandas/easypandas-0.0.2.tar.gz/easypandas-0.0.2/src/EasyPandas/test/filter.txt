===============================================================================0
导入模块
>>> with open("../filter.py", "rt", encoding="utf8") as fp: exec(fp.read())
>>> with open("../read.py", "rt", encoding="utf8") as fp: exec(fp.read())
>>> iris = read("../data/iris.xlsx")
===============================================================================1
DataFrame的筛选
===============================================================================2
等于筛选
>>> res = filter(iris, "`Sepal.Length` == 4.9")
>>> print(res)
===============================================================================3
不等于筛选
>>> res = filter(iris, "`Sepal.Length` != 4.9")
>>> print(res)
===============================================================================4
大于筛选
>>> res = filter(iris, "`Sepal.Length` > 4.9")
>>> print(res)
===============================================================================5
大于等于筛选
>>> res = filter(iris, "`Sepal.Length` >= 4.9")
>>> print(res)
===============================================================================6
小于筛选
>>> res = filter(iris, "`Sepal.Length` < 4.9")
>>> print(res)
===============================================================================7
小于等于筛选
>>> res = filter(iris, "`Sepal.Length` <= 4.9")
>>> print(res)
===============================================================================8
字符串等于筛选
>>> res = filter(iris, "`Species` == 'setosa'")
>>> print(res)
===============================================================================9
字符串不等于筛选
>>> res = filter(iris, "`Species` != 'setosa'")
>>> print(res)
===============================================================================10
字符串包含筛选
>>> res = filter(iris, "`Species` ^C$ 'v'")
>>> print(res)
===============================================================================11
字符串不包含筛选
>>> res = filter(iris, "`Species` !^C$ 'v'")
>>> print(res)
===============================================================================12
字符串开始为
>>> res = filter(iris, "`Species` ^^ 'set'")
>>> print(res)
===============================================================================13
字符串结束为
>>> res = filter(iris, "`Species` $$ 'color'")
>>> print(res)
===============================================================================14
列之间的大于比较
>>> res = filter(iris, "`Sepal.Length` > `Petal.Length`")
>>> print(res)
===============================================================================15
列之间的大于等于比较
>>> res = filter(iris, "`Sepal.Width` > `Petal.Width`")
>>> print(res)
===============================================================================16
列之间的小于比较
>>> res = filter(iris, "`Sepal.Width` < `Petal.Width`")
>>> print(res)
===============================================================================17
列之间的小于等于比较
>>> res = filter(iris, "`Sepal.Length` <= `Petal.Length`")
>>> print(res)
===============================================================================18
列之间的等于比较
>>> res = filter(iris, "`Sepal.Length` == `Petal.Length`")
>>> print(res)
===============================================================================19
列之间的不等于比较
>>> res = filter(iris, "`Sepal.Width` != `Petal.Width`")
>>> print(res)
===============================================================================20
多个筛选条件
>>> res = filter(iris, "`Sepal.Length` >= 5", "`Sepal.Length` <= 4.5", "and")
>>> print(res)
>>> res = filter(iris, "`Sepal.Length` >= 5", "`Sepal.Length` <= 4.5", "or")
>>> print(res)
>>> res = filter(iris, "`Sepal.Length` >= 5", "`Sepal.Length` <= 4.5", None)
>>> print(res)
>>> res = filter(iris, "`Species` ^C$ 'color'", "`Species` ^C$ 'set'", "or")
>>> print(res)
>>> res = filter(iris, "`Species` ^C$ 'color'", "`Sepal.Length` > 5", "and")
>>> print(res)
===============================================================================21
测试Series
===============================================================================22
等于筛选
>>> res = filter(iris["Sepal.Length"], "== 4.9")
>>> print(res)
===============================================================================23
不等于筛选
>>> res = filter(iris["Sepal.Length"], "!= 4.9")
>>> print(res)
===============================================================================24
大于筛选
>>> res = filter(iris["Sepal.Length"], "> 4.9")
>>> print(res)
===============================================================================25
大于等于筛选
>>> res = filter(iris["Sepal.Length"], ">= 4.9")
>>> print(res)
===============================================================================26
小于筛选
>>> res = filter(iris["Sepal.Length"], "< 4.9")
>>> print(res)
===============================================================================27
小于等于筛选
>>> res = filter(iris["Sepal.Length"], "<= 4.9")
>>> print(res)
===============================================================================28
字符串等于筛选
>>> res = filter(iris["Species"], "== 'setosa'")
>>> print(res)
===============================================================================29
字符串不等于筛选
>>> res = filter(iris["Species"], "!='setosa'")
>>> print(res)
===============================================================================30
字符串包含筛选
>>> res = filter(iris["Species"], "^C$ 'v'")
>>> print(res)
===============================================================================31
字符串不包含筛选
>>> res = filter(iris["Species"], "!^C$ 'v'")
>>> print(res)
===============================================================================32
字符串开始为
>>> res = filter(iris["Species"], "^^ 'set'")
>>> print(res)
===============================================================================33
字符串结束为
>>> res = filter(iris["Species"], "$$ 'color'")
>>> print(res)
===============================================================================34
对于一个一般的Series
===============================================================================35
>>> s = pd.Series([i for i in range(100)])
>>> res = filter(s, ">90")
>>> print(res)
===============================================================================36
